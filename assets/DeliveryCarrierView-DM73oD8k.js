import{u as y,_ as h,a as $,b as D}from"./AddressLink.vue_vue_type_script_setup_true_lang-BkDeHrSv.js";import{g as v,C as w,E as B,d as g,G as L,m as u,l as p,u as o,q as i,e as n,B as l,c as H,H as N,I as T,F as V,o as c,z as P,_ as z}from"./index-DWX8wXUJ.js";import{_ as E}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-BdXbt4UY.js";function F(e){return[{title:e("common.name"),key:"name",align:"start"},{title:e("address.city"),key:"city",align:"start"},{title:e("address.street"),key:"address",align:"start"},{title:e("contact.phone",2),key:"phones",align:"start"},{title:e("common.action",2),key:"actions",align:"start"}]}function I(e){const t=e.phones.filter(a=>a.type===B.Phone).sort((a,r)=>Number(r.isPrimary)-Number(a.isPrimary)).slice(0,3);return{id:e.id,name:e.name,city:e.primaryLocation?.city??"",address:e.primaryLocation,phones:t,value:e}}function R(e){const{tCap:t}=v(),a=w(()=>(e.value??[]).map(I)),r=F(t);return{data:a,headers:r}}const j={class:"d-flex flex-column gap-1"},q={class:"d-flex flex-column gap-1"},G=g({__name:"CarrierList",props:{carriers:{}},setup(e){const{deleteDeliveryCarrierCommandHandler:t}=y(),a=V(),r=e,{data:d,headers:m}=R(L(r,"carriers"));function _(x,f){a.push(`/carrier/${f.item.id}`)}return(x,f)=>{const C=p("v-data-table");return c(),u(C,{headers:o(m),items:o(d),class:"text-start","hide-default-footer":"",density:"comfortable",hover:"","onClick:row":_},{"item.phones":i(({item:s})=>[l("div",j,[(c(!0),H(T,null,N(s.phones,(b,k)=>(c(),u(D,{key:k,class:"d-flex align-center",phone:b},null,8,["phone"]))),128))])]),"item.address":i(({item:s})=>[l("div",q,[n($,{class:"d-flex align-center",address:s.address,format:"street"},null,8,["address"])])]),"item.actions":i(({item:s})=>[n(h,{carrier:s.value,mini:""},null,8,["carrier"]),n(E,{name:s.name,"action-fn":()=>o(t).handle({id:s.id}),mini:""},null,8,["name","action-fn"])]),_:2},1032,["headers","items"])}}}),S={class:"d-flex justify-space-between align-center mb-4"},A={class:"text-h6"},J=g({__name:"DeliveryCarrierView",setup(e){const{carriers:t}=y(),{tCap:a}=v();return(r,d)=>{const m=p("v-card"),_=p("v-container");return c(),u(_,{class:"py-6"},{default:i(()=>[n(m,{class:"pa-4"},{default:i(()=>[l("div",S,[l("h2",A,P(o(a)("deliveryCarrier.carrier",2)),1),n(h)]),n(G,{carriers:o(t)},null,8,["carriers"])]),_:1})]),_:1})}}}),Q=z(J,[["__scopeId","data-v-722131a5"]]);export{Q as default};
