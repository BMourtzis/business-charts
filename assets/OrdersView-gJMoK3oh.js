import{_ as Re}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-DL0UyJcm.js";import{u as ee,_ as $e,a as Ae,b as Ke,c as G,d as J,T as Ue,N as H,B as Te,r as Ee,t as Ie,e as De,f as Be,s as le,g as oe,o as Ne}from"./useOrders-BddFF-FN.js";import{_ as Oe}from"./PartnerBtn.vue_vue_type_script_setup_true_lang-B0oSVu30.js";import{g as Q,C,d as E,r as T,G as qe,c as te,m as U,x as j,e as o,l as _,q as r,u as a,$ as Se,I as Le,F as Me,o as $,a0 as W,w as q,a1 as ae,J as Fe,n as de,_ as X,a2 as Pe,a3 as ne,t as Z,y as O,z as K,f as me,B as D,A as ce,a4 as ue,j as je,k as ze,p as se}from"./index-1h5CSaCC.js";import{g as Qe}from"./usePartnerDetails-BTVkFCaj.js";import{n as F,i as He,g as ve,a as Ge}from"./priceUtils-Dq5SYNCJ.js";import{u as Je}from"./usePartners-C2fMHC97.js";function We(e){return{id:e.id,orderNumber:Xe(e.orderNumber),partner:Qe(e.partnerId),createdDate:re(e.createdDate),dueDate:re(e.dueDate),status:e.status,type:e.type,total:F(e.totalAmount)}}function Xe(e){return`#${e}`}function re(e){return e?e.toLocaleDateString():"-"}function Ye(e){return[{title:e("order.number"),key:"orderNumber",align:"start"},{title:e("partner.businessName"),key:"partner",align:"start"},{title:e("order.createdDate"),key:"createdDate",align:"start"},{title:e("order.dueDate"),key:"dueDate",align:"start"},{title:e("order.status"),key:"status",align:"start"},{title:e("order.type"),key:"direction",align:"start"},{title:e("order.total"),key:"total",align:"start"},{title:e("common.action",2),key:"actions",align:"start"}]}function Ze(e){const{tCap:d}=Q(),s=C(()=>(e.value??[]).map(u=>We(u))),i=C(()=>Ye(d));return{data:s,headers:i}}const et=E({__name:"OrderList",props:{orders:{}},setup(e){const d=Me(),s=T([]),i=T(!1),n=T("lineItems"),u=T("multiple-orders"),l=C(()=>v.orders?v.orders.filter(b=>s.value.includes(b.id)).flatMap(b=>b.items):[]),v=e,{deleteOrderCommmandHandler:t}=ee(),{data:p,headers:V}=Ze(qe(v,"orders"));function y(f,b){d.push(`/order/${b.item.id}`)}function h(){n.value="labels",i.value=!0}function k(){n.value="lineItems",i.value=!0}return(f,b)=>{const I=_("v-btn"),B=_("v-col"),m=_("v-row"),A=_("v-data-table");return $(),te(Le,null,[s.value.length>0?($(),U(m,{key:0},{default:r(()=>[o(B,{cols:"1"},{default:r(()=>[o(I,{color:"grey",icon:"mdi-file-delimited",variant:"text",density:"compact",onClick:k}),o(I,{color:"grey",icon:"mdi-label-multiple",variant:"text",density:"compact",onClick:h})]),_:1})]),_:1})):j("",!0),o(A,{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=c=>s.value=c),"show-select":"",headers:a(V),items:a(p),class:"text-start","hide-default-footer":"",density:"comfortable","items-per-page":-1,hover:"","onClick:row":y},{"item.partner":r(({item:c})=>[o(Oe,{partner:c.partner},null,8,["partner"])]),"item.status":r(({item:c})=>[o(Ae,{status:c.status},null,8,["status"])]),"item.direction":r(({item:c})=>[o($e,{type:c.type},null,8,["type"])]),"item.actions":r(({item:c})=>[c.status===a(Se).Draft?($(),U(Re,{key:0,name:c.orderNumber,"action-fn":()=>a(t).handle({id:c.id}),mini:!0},null,8,["name","action-fn"])):j("",!0)]),_:2},1032,["modelValue","headers","items"]),o(Ke,{modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=c=>i.value=c),filename:u.value,items:l.value,type:n.value},null,8,["modelValue","filename","items","type"])],64)}}}),pe=E({__name:"TextEditor",props:{modelValue:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:d}){const s=d,{onKeydown:i}=G(s),{fieldRef:n}=J();return(u,l)=>{const v=_("v-text-field");return $(),U(v,{ref_key:"fieldRef",ref:n,"model-value":e.modelValue,"onUpdate:modelValue":l[0]||(l[0]=t=>u.$emit("update:modelValue",t)),density:"compact",variant:"underlined","hide-details":"",tabindex:"0",onBlur:l[1]||(l[1]=t=>u.$emit("blur",e.focusKey)),onKeydown:a(i),style:W({width:e.width||"1vw"})},null,8,["model-value","onKeydown","style"])}}}),tt=["tabindex"],lt=E({__name:"EditableCell",props:{modelValue:{},hasEditor:{type:Boolean},width:{},position:{},activeCell:{},focusKey:{}},emits:["update:modelValue","request-edit","request-close","request-move-cell","request-move-row"],setup(e,{emit:d}){const s=e,i=d,n=C(()=>s.activeCell!==null&&s.position.row===s.activeCell.row&&s.position.column===s.activeCell.column),u=C(()=>n.value?-1:0),l=C({get:()=>s.modelValue,set:f=>h(f)}),v=C(()=>s.hasEditor?n.value:!1);q(()=>n.value,async f=>{f&&s.hasEditor&&(i("request-edit"),await de())});function t(f){switch(f){case H.Up:V(-1);break;case H.Down:V(1);break;case H.Left:p(-1);break;case H.Right:p(1);break}}function p(f){i("request-move-cell",f)}function V(f){i("request-move-row",f)}function y(f){f===s.focusKey&&i("request-close")}function h(f){i("update:modelValue",f)}function k(){!n.value&&s.hasEditor&&i("request-edit")}return(f,b)=>($(),te("td",{tabindex:u.value,onClick:Fe(k,["stop"])},[v.value?ae(f.$slots,"editor",{key:0,value:l.value,width:e.width,focusKey:n.value?e.focusKey:0,onUpdate:h,onBlur:y,onNavigate:t},()=>[o(pe,{"model-value":l.value,width:e.width,"focus-key":n.value?e.focusKey:0,"onUpdate:modelValue":h,onBlur:y,onNavigate:t},null,8,["model-value","width","focus-key"])]):j("",!0),v.value?j("",!0):ae(f.$slots,"display",{key:1,value:l.value,width:e.width,focusKey:n.value?e.focusKey:0,onUpdate:h,onBlur:y,onNavigate:t},()=>[o(Ue,{modelValue:l.value,width:e.width,"focus-key":n.value?e.focusKey:0},null,8,["modelValue","width","focus-key"])])],8,tt))}});function ot(e,d,s){function i(m){return m.row*d.length+m.column}function n(m){return m===null?null:{row:Math.floor(m/d.length),column:m%d.length}}const u=T(null),l=T(0);function v(m,A){u.value={row:m,column:A}}function t(){u.value=null,s()}function p(m){u.value!==null&&y(i(u.value),m)}function V(m){u.value!==null&&y(i(u.value),I(m))}function y(m,A){let c=m+A;const S=h(A);for(;b(c);){if(k(c)){u.value=n(c),l.value++,s();return}c+=S}}function h(m){return m<0?-1:1}function k(m){return f(m)?.navigable}function f(m){const A=m%d.length;return d.find(c=>c.order===A)}function b(m){return!(m<0||m>=e.value.length*d.length)}function I(m){return m*d.length}function B(m,A){return I(m)+A===n(u.value)}return{activeCell:u,focusKey:l,startEditingCell:v,isCellFocused:B,stopEditingCell:t,moveEditingCellByCell:p,moveEditingCellByRow:V}}const at=E({__name:"AutocompleteEditor",props:{modelValue:{},items:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:d}){const s=d,{onKeydown:i}=G(s),{fieldRef:n}=J();return(u,l)=>{const v=_("v-autocomplete");return $(),U(v,{ref_key:"fieldRef",ref:n,class:"autocomplete-editor","model-value":e.modelValue,"onUpdate:modelValue":l[0]||(l[0]=t=>u.$emit("update:modelValue",t)),items:e.items,density:"compact","hide-details":"",onBlur:l[1]||(l[1]=t=>u.$emit("blur",e.focusKey)),onKeydown:a(i),style:W({width:e.width||"5vw"})},null,8,["model-value","items","onKeydown","style"])}}}),nt=X(at,[["__scopeId","data-v-d458848c"]]),ut=E({__name:"NumberEditor",props:{modelValue:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:d}){const s=d,{onKeydown:i}=G(s),{fieldRef:n}=J();return(u,l)=>{const v=_("v-text-field");return $(),U(v,{ref_key:"fieldRef",ref:n,"model-value":e.modelValue,"onUpdate:modelValue":l[0]||(l[0]=t=>u.$emit("update:modelValue",t)),density:"compact",variant:"underlined","hide-details":"",tabindex:"0",onBlur:l[1]||(l[1]=t=>u.$emit("blur",e.focusKey)),onKeydown:a(i),style:W({width:e.width||"1vw"})},null,8,["model-value","onKeydown","style"])}}}),st=E({__name:"PriceEditor",props:{modelValue:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:d}){const s=e,i=d,n=C(()=>He(s.modelValue)),{onKeydown:u}=G(i),{fieldRef:l}=J();return(v,t)=>{const p=_("v-text-field");return $(),U(p,{ref_key:"fieldRef",ref:l,class:"price-editor","model-value":n.value,"onUpdate:modelValue":t[0]||(t[0]=V=>v.$emit("update:modelValue",a(Ge)(V))),density:"compact",variant:"underlined","hide-details":"",tabindex:"0",type:"text",inputmode:"decimal",onBlur:t[1]||(t[1]=V=>v.$emit("blur",e.focusKey)),onKeydown:a(u),suffix:a(ve)(),style:W({width:e.width||"2vw"})},null,8,["model-value","onKeydown","suffix","style"])}}}),rt={autocomplete:nt,number:ut,price:st,text:pe},it=E({__name:"EditableTable",props:{modelValue:{},tableColumns:{},hideRowIndex:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:d}){const s=e,i=d,n=T([]),{activeCell:u,focusKey:l,startEditingCell:v,stopEditingCell:t,moveEditingCellByCell:p,moveEditingCellByRow:V}=ot(n,s.tableColumns,h);q(()=>s.modelValue,b=>{n.value=De(b)},{immediate:!0,deep:!0});function y(b,I,B){return I.calculate?I.calculate(b):B}function h(){i("update:modelValue",Ie(n.value))}function k(b){return s.tableColumns[b].editorType!==void 0}function f(b){t(),n.value.splice(b,1),h()}return(b,I)=>{const B=_("v-btn");return $(),U(Te,{"table-columns":e.tableColumns,modelValue:n.value,"hide-row-index":e.hideRowIndex},{cell:r(({row:m,rowIndex:A,column:c,colIndex:S,cell:P})=>[o(lt,{modelValue:P.value,"onUpdate:modelValue":x=>P.value=x,hasEditor:k(S),width:c.width,position:{row:A,column:S},"active-cell":a(u),"focus-key":a(l),onRequestEdit:x=>a(v)(A,S),onRequestClose:a(t),onRequestMoveCell:a(p),onRequestMoveRow:a(V)},Pe({_:2},[c.editorType?{name:"editor",fn:r(x=>[($(),U(ne(a(rt)[c.editorType]),{"model-value":x.value,"onUpdate:modelValue":x.onUpdate,width:x.width,focusKey:x.focusKey,items:c.list,onBlur:x.onBlur,onNavigate:x.onNavigate},null,40,["model-value","onUpdate:modelValue","width","focusKey","items","onBlur","onNavigate"]))]),key:"0"}:void 0,c.rendererType?{name:"display",fn:r(x=>[($(),U(ne(a(Ee)[c.rendererType]),{"model-value":y(m,c,x.value),width:x.width,focusKey:x.focusKey,"onUpdate:modelValue":x.onUpdate,onBlur:x.onBlur,onNavigate:x.onNavigate},null,40,["model-value","width","focusKey","onUpdate:modelValue","onBlur","onNavigate"]))]),key:"1"}:void 0]),1032,["modelValue","onUpdate:modelValue","hasEditor","width","position","active-cell","focus-key","onRequestEdit","onRequestClose","onRequestMoveCell","onRequestMoveRow"])]),actions:r(({row:m,rowIndex:A})=>[o(B,{icon:"mdi-close",variant:"text",color:"error",onClick:c=>f(A)},null,8,["onClick"])]),_:1},8,["table-columns","modelValue","hide-row-index"])}}}),dt=X(it,[["__scopeId","data-v-fdfd799d"]]),mt=E({__name:"OrderItemEdit",props:{modelValue:{}},emits:["update:modelValue","remove-item"],setup(e,{emit:d}){const s=e,i=d,n=T(structuredClone(Z(s.modelValue)));q(()=>s.modelValue,p=>{n.value=structuredClone(Z(p))},{deep:!0});function u(){i("update:modelValue",structuredClone(Z(n.value)))}const{vmToRows:l,rowsToVm:v}=Be(le),t=C({get:()=>l(n.value),set:p=>{n.value=v(p),u()}});return(p,V)=>t.value.length>0?($(),U(dt,{key:0,modelValue:t.value,"onUpdate:modelValue":V[0]||(V[0]=y=>t.value=y),tableColumns:a(le)},null,8,["modelValue","tableColumns"])):j("",!0)}}),ie=E({__name:"AmountAdjustmentField",props:{modelValue:{},baseAmount:{},label:{}},emits:["update:modelValue"],setup(e,{emit:d}){const s=e,i=d,n=T("percent"),u=T(0),l=C(()=>n.value==="amount"?u.value||0:(u.value||0)/100*s.baseAmount),v=C(()=>n.value==="percent"?F(l.value):"");return q(()=>s.modelValue,t=>{n.value==="amount"?u.value=t:s.baseAmount>0&&(u.value=+(t/s.baseAmount*100).toFixed(2))},{immediate:!0}),q(()=>s.baseAmount,t=>{if(n.value==="percent"){const p=t*(u.value||0)/100;i("update:modelValue",Math.max(0,p))}}),q([u,n],()=>{let t=0;n.value==="amount"?t=u.value||0:t=(u.value||0)/100*s.baseAmount,i("update:modelValue",Math.max(0,t))}),(t,p)=>{const V=_("v-btn"),y=_("v-btn-toggle"),h=_("v-text-field");return $(),U(h,{modelValue:u.value,"onUpdate:modelValue":p[1]||(p[1]=k=>u.value=k),hint:v.value,label:e.label,type:"number","persistent-hint":n.value==="percent"},{"append-inner":r(()=>[o(y,{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=k=>n.value=k),density:"compact",mandatory:"",divided:"","selected-class":"bg-primary"},{default:r(()=>[o(V,{value:"percent"},{default:r(()=>[...p[2]||(p[2]=[O("%",-1)])]),_:1}),o(V,{value:"amount"},{default:r(()=>[O(K(a(ve)()),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","hint","label","persistent-hint"])}}}),ct=E({__name:"vatCalculatorField",props:{modelValue:{},baseAmount:{}},emits:["update:modelValue"],setup(e,{emit:d}){const{required:s,numeric:i}=me(),{tCap:n}=Q(),u=e,l=d,v=T(0),t=y=>{v.value=Number(y)/100},p=C(()=>v.value*u.baseAmount),V=C(()=>F(p.value));return q(()=>u.modelValue,y=>{v.value=Number(y)||0},{immediate:!0}),q(()=>v.value,y=>{l("update:modelValue",y)}),(y,h)=>{const k=_("v-text-field");return $(),U(k,{"model-value":v.value*100,"onUpdate:modelValue":t,type:"number",min:"0",max:"100",step:"1",suffix:"%",label:a(n)("order.vatRate"),rules:[a(s),a(i)],hint:V.value,"persistent-hint":""},null,8,["model-value","label","rules","hint"])}}}),vt={class:"date-picker-wrapper"},pt={class:"v-label"},ft={class:"date-picker-row"},_t=E({__name:"DatePicker",props:{modelValue:{},title:{}},emits:["update:modelValue"],setup(e,{emit:d}){const{tCap:s}=Q(),i=e,n=d,u=T(!1),l=T(i.modelValue);function v(){l.value&&(n("update:modelValue",l.value),u.value=!1)}const t=C(()=>l.value?new Date(l.value).toLocaleDateString():s("common.noDateSelected"));return(p,V)=>{const y=_("v-btn"),h=_("v-date-picker"),k=_("v-menu");return $(),te("div",vt,[D("label",pt,K(e.title),1),D("div",ft,[o(k,{modelValue:u.value,"onUpdate:modelValue":V[1]||(V[1]=f=>u.value=f),transition:"scale-transition","offset-y":"","close-on-content-click":!1,"close-on-back":""},{activator:r(({props:f})=>[o(y,ce(f,{class:"date-btn",variant:"text",ripple:!1,size:"large",text:t.value}),null,16,["text"])]),default:r(()=>[o(h,{modelValue:l.value,"onUpdate:modelValue":[V[0]||(V[0]=f=>l.value=f),v],min:new Date,class:"weekdays-primary","control-variant":"modal",elevation:"1","hide-header":"","show-adjacent-months":""},null,8,["modelValue","min"])]),_:1},8,["modelValue"]),o(y,{icon:"mdi-close",color:"red",size:"large",variant:"text",disabled:!l.value,onClick:V[2]||(V[2]=f=>l.value=null),title:"Clear date"},null,8,["disabled"])])])}}}),yt=X(_t,[["__scopeId","data-v-adf4af75"]]),Vt=E({__name:"AddOrderModal",setup(e){const{maxLength:d,required:s}=me(),{createCreditOrderCommmandHandler:i}=ee(),{partners:n,partnersToItemProps:u}=Je(),{tCap:l}=Q(),v=[{title:oe(ue.Sales,l),value:"Sales"},{title:oe(ue.Purchase,l),value:"Purchase"}],t=je({type:"Sales",partnerId:"",vatRate:.24,dueDate:null,notes:"",depositAmount:0,discountAmount:0,items:[]}),{dialog:p,formRef:V,validForm:y,loading:h,errorMessage:k,close:f,reset:b,submit:I}=ze(t,{autoReset:!1}),B=T([]);function m(){t.items.push({name:"",derivedSku:"",unitPrice:0,productCode:"",variationSnapshot:{},sizing:{}}),de(()=>{B.value.push(t.items.length-1)})}const A=C(()=>t.items.reduce((L,g)=>{const N=Object.values(g.sizing).reduce((z,R)=>z+R,0)??0;return L+N},0)),c=C(()=>t.items.reduce((L,g)=>{const z=(Object.values(g.sizing).reduce((R,Y)=>R+Y,0)??0)*g.unitPrice;return L+z},0)),S=C(()=>c.value*t.vatRate),P=C(()=>c.value+S.value),x=C(()=>P.value-t.discountAmount),fe=C(()=>x.value-t.depositAmount);async function _e(){await I(async L=>{L.type==="Sales"&&i.handle(Ne(L)),b()})}return(L,g)=>{const N=_("v-btn"),z=_("v-autocomplete"),R=_("v-col"),Y=_("v-select"),M=_("v-row"),ye=_("v-textarea"),Ve=_("v-alert"),be=_("v-container"),ge=_("v-form"),we=_("v-card-text"),he=_("v-spacer"),xe=_("v-card-actions"),Ce=_("v-card"),ke=_("v-dialog");return $(),U(ke,{modelValue:a(p),"onUpdate:modelValue":g[9]||(g[9]=w=>se(p)?p.value=w:null),"max-width":"1800"},{activator:r(({props:w})=>[o(N,ce(w,{color:"surface-variant",text:a(l)("order.addOrderTitle"),"prepend-icon":"mdi-plus",variant:"flat"}),null,16,["text"])]),default:r(()=>[o(Ce,{title:a(l)("order.addOrderTitle")},{default:r(()=>[o(we,null,{default:r(()=>[o(ge,{ref_key:"formRef",ref:V,modelValue:a(y),"onUpdate:modelValue":g[8]||(g[8]=w=>se(y)?y.value=w:null)},{default:r(()=>[o(be,{fluid:""},{default:r(()=>[o(M,{dense:""},{default:r(()=>[o(R,{cols:"6"},{default:r(()=>[o(z,{modelValue:t.partnerId,"onUpdate:modelValue":g[0]||(g[0]=w=>t.partnerId=w),"item-props":a(u),label:a(l)("partner.partner"),items:a(n),rules:[a(s)]},null,8,["modelValue","item-props","label","items","rules"])]),_:1}),o(R,{cols:"6"},{default:r(()=>[o(Y,{modelValue:t.type,"onUpdate:modelValue":g[1]||(g[1]=w=>t.type=w),label:a(l)("order.type"),items:v,rules:[a(s)],"item-title":"title","item-value":"value"},null,8,["modelValue","label","rules"])]),_:1}),o(R,{cols:"6"},{default:r(()=>[o(yt,{modelValue:t.dueDate,"onUpdate:modelValue":g[2]||(g[2]=w=>t.dueDate=w),title:a(l)("order.dueDate")},null,8,["modelValue","title"])]),_:1}),o(R,{cols:"12",class:"d-flex justify-space-between align-center mb-4"},{default:r(()=>[D("h3",null,K(a(l)("order.items",2)),1),o(N,{color:"indigo",text:a(l)("order.addOrderItemTitle"),"prepend-icon":"mdi-plus",variant:"text",onClick:m},null,8,["text"])]),_:1})]),_:1}),o(M,{dense:""},{default:r(()=>[o(mt,{modelValue:t.items,"onUpdate:modelValue":g[3]||(g[3]=w=>t.items=w)},null,8,["modelValue"])]),_:1}),o(M,{class:"mb-4",justify:"end",align:"center"},{default:r(()=>[o(R,{cols:"auto"},{default:r(()=>[O(K(a(l)("order.orderQuantity"))+": ",1),D("strong",null,K(A.value),1)]),_:1}),o(R,{cols:"auto"},{default:r(()=>[O(K(a(l)("order.orderSum"))+" ",1),D("strong",null,K(a(F)(c.value)),1)]),_:1})]),_:1}),o(M,null,{default:r(()=>[o(R,{cols:"6"},{default:r(()=>[o(ye,{modelValue:t.notes,"onUpdate:modelValue":g[4]||(g[4]=w=>t.notes=w),label:a(l)("order.notes"),rules:[a(d)(1e3)],rows:"4",counter:"1000"},null,8,["modelValue","label","rules"])]),_:1}),o(R,{dense:"",cols:"6"},{default:r(()=>[o(M,{class:"mb-4",justify:"end",align:"center"},{default:r(()=>[o(R,{cols:"6"},{default:r(()=>[o(ct,{modelValue:t.vatRate,"onUpdate:modelValue":g[5]||(g[5]=w=>t.vatRate=w),"base-amount":c.value},null,8,["modelValue","base-amount"])]),_:1}),o(R,{cols:"4"},{default:r(()=>[O(K(a(l)("order.amountAfterTax"))+" ",1),D("strong",null,K(a(F)(P.value)),1)]),_:1})]),_:1}),o(M,{class:"mb-4",justify:"end",align:"center"},{default:r(()=>[o(R,{cols:"6"},{default:r(()=>[o(ie,{modelValue:t.discountAmount,"onUpdate:modelValue":g[6]||(g[6]=w=>t.discountAmount=w),"base-amount":P.value,label:a(l)("order.discount")},null,8,["modelValue","base-amount","label"])]),_:1}),o(R,{cols:"4"},{default:r(()=>[O(K(a(l)("order.total"))+": ",1),D("strong",null,K(a(F)(x.value)),1)]),_:1})]),_:1}),o(M,{class:"mb-4",justify:"end",align:"center"},{default:r(()=>[o(R,{cols:"6"},{default:r(()=>[o(ie,{modelValue:t.depositAmount,"onUpdate:modelValue":g[7]||(g[7]=w=>t.depositAmount=w),"base-amount":x.value,label:a(l)("order.deposit")},null,8,["modelValue","base-amount","label"])]),_:1}),o(R,{cols:"4"},{default:r(()=>[O(K(a(l)("order.remainingAmount"))+": ",1),D("strong",null,K(a(F)(fe.value)),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(k)?($(),U(Ve,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:r(()=>[O(K(a(k)),1)]),_:1})):j("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(xe,null,{default:r(()=>[o(N,{variant:"tonal",color:"warning",text:a(l)("common.clear"),onClick:a(b)},null,8,["text","onClick"]),o(he),o(N,{variant:"tonal",color:"indigo",text:a(l)("common.save"),loading:a(h),disabled:!a(y)||a(h),onClick:_e},null,8,["text","loading","disabled"]),o(N,{text:a(l)("common.cancel"),color:"red",disabled:a(h),onClick:a(f)},null,8,["text","disabled","onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),bt=X(Vt,[["__scopeId","data-v-8ce6c558"]]),gt={class:"d-flex justify-space-between align-center mb-4"},wt={class:"text-h6"},Kt=E({__name:"OrdersView",setup(e){const{allOrders:d}=ee(),{tCap:s}=Q();return(i,n)=>{const u=_("v-card"),l=_("v-container");return $(),U(l,{class:"py-6"},{default:r(()=>[o(u,{class:"pa-4"},{default:r(()=>[D("div",gt,[D("h2",wt,K(a(s)("order.order",2)),1),o(bt)]),o(et,{orders:a(d)},null,8,["orders"])]),_:1})]),_:1})}}});export{Kt as default};
