import{_ as O}from"./PartnerList.vue_vue_type_script_setup_true_lang-X1rvY9M0.js";import{u as k,g as Q}from"./usePartners-DkYBAhcM.js";import{d as w,f as W,g as F,j as X,k as Y,l as s,m as y,o as C,u as e,p as B,q as o,e as l,x as Z,y as h,z,A as ee,B as U,_ as le}from"./index-CTkL5rO_.js";import{u as ae,_ as te}from"./AddressLink.vue_vue_type_script_setup_true_lang-DoNMo5pr.js";import"./useDeliveryCarrierDetails-D_5Lutvd.js";import"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-1OX_AV7F.js";import"./CarrierBtn.vue_vue_type_script_setup_true_lang-BNqHE8AZ.js";const oe=w({__name:"AddB2BCustomerModal",setup(I){const{maxLength:i,required:p,emailFormat:x,phoneFormat:g,rangeLength:_}=W(),{createB2BCustomerCommandHandler:v}=k(),{carriers:L}=ae(),{tCap:d}=F(),n=X({businessName:""}),{dialog:f,formRef:P,validForm:c,loading:V,errorMessage:N,close:R,submit:j}=Y(n);function A(r){return{title:r.name,value:r.id,subtitle:r.primaryLocation?.value??""}}async function D(){await j(async r=>{v.handle({contactName:r.contactName,deliveryCarrierId:r.deliveryCarrierId,businessName:r.businessName,email:r.email,phone:r.phone,address:Q(r.street,r.city,r.zip,r.country)})})}return(r,t)=>{const b=s("v-btn"),m=s("v-text-field"),u=s("v-col"),T=s("v-autocomplete"),$=s("v-row"),q=s("v-alert"),H=s("v-container"),M=s("v-form"),E=s("v-card-text"),S=s("v-spacer"),G=s("v-card-actions"),J=s("v-card"),K=s("v-dialog");return C(),y(K,{modelValue:e(f),"onUpdate:modelValue":t[10]||(t[10]=a=>B(f)?f.value=a:null),"max-width":"500"},{activator:o(({props:a})=>[l(b,ee(a,{color:"indigo",text:e(d)("partner.addΒ2ΒCustomerTitle"),"prepend-icon":"mdi-plus",variant:"flat"}),null,16,["text"])]),default:o(()=>[l(J,{title:e(d)("partner.addΒ2ΒCustomerTitle")},{default:o(()=>[l(E,null,{default:o(()=>[l(M,{ref_key:"formRef",ref:P,modelValue:e(c),"onUpdate:modelValue":t[9]||(t[9]=a=>B(c)?c.value=a:null)},{default:o(()=>[l(H,{class:"pa-0",fluid:""},{default:o(()=>[l($,{dense:""},{default:o(()=>[l(u,{cols:"12"},{default:o(()=>[l(m,{modelValue:n.businessName,"onUpdate:modelValue":t[0]||(t[0]=a=>n.businessName=a),label:e(d)("partner.businessName"),rules:[e(p),e(_)(3,50)]},null,8,["modelValue","label","rules"])]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(m,{modelValue:n.contactName,"onUpdate:modelValue":t[1]||(t[1]=a=>n.contactName=a),label:e(d)("partner.contactName"),rules:[e(i)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(T,{modelValue:n.deliveryCarrierId,"onUpdate:modelValue":t[2]||(t[2]=a=>n.deliveryCarrierId=a),"item-props":A,label:"Carrier",items:e(L)},{"append-inner":o(()=>[l(te,{mini:""})]),_:1},8,["modelValue","items"])]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(m,{modelValue:n.email,"onUpdate:modelValue":t[3]||(t[3]=a=>n.email=a),label:e(d)("contact.mainEmailField"),placeholder:"johndoe@gmail.com",type:"email",rules:[e(x)]},null,8,["modelValue","label","rules"])]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(m,{modelValue:n.phone,"onUpdate:modelValue":t[4]||(t[4]=a=>n.phone=a),label:e(d)("contact.mainPhoneField"),placeholder:"21080212345",type:"tel",rules:[e(g)]},null,8,["modelValue","label","rules"])]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(m,{modelValue:n.street,"onUpdate:modelValue":t[5]||(t[5]=a=>n.street=a),label:e(d)("address.street"),rules:[e(i)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(u,{cols:"8"},{default:o(()=>[l(m,{modelValue:n.city,"onUpdate:modelValue":t[6]||(t[6]=a=>n.city=a),label:e(d)("address.city"),rules:[e(i)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(u,{cols:"4"},{default:o(()=>[l(m,{modelValue:n.zip,"onUpdate:modelValue":t[7]||(t[7]=a=>n.zip=a),label:e(d)("address.zip"),rules:[e(i)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(u,{cols:"12"},{default:o(()=>[l(m,{modelValue:n.country,"onUpdate:modelValue":t[8]||(t[8]=a=>n.country=a),label:e(d)("address.country"),rules:[e(i)(50)]},null,8,["modelValue","label","rules"])]),_:1})]),_:1}),e(N)?(C(),y(q,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:o(()=>[h(z(e(N)),1)]),_:1})):Z("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(G,null,{default:o(()=>[l(S),l(b,{variant:"tonal",color:"indigo",text:e(d)("common.save"),loading:e(V),disabled:!e(c)||e(V),onClick:D},null,8,["text","loading","disabled"]),l(b,{text:e(d)("common.cancel"),color:"red",disabled:e(V),onClick:e(R)},null,8,["text","disabled","onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),ne={class:"d-flex justify-space-between align-center mb-4"},se={class:"text-h6"},re=w({__name:"B2BCustomersView",setup(I){const{b2bCustomers:i}=k(),{tCap:p}=F();return(x,g)=>{const _=s("v-card"),v=s("v-container");return C(),y(v,{class:"py-6"},{default:o(()=>[l(_,{class:"pa-4"},{default:o(()=>[U("div",ne,[U("h2",se,z(e(p)("partner.b2bCustomer",2)),1),l(oe)]),l(O,{partners:e(i)},null,8,["partners"])]),_:1})]),_:1})}}}),ve=le(re,[["__scopeId","data-v-4672e507"]]);export{ve as default};
