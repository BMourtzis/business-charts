import{_ as Re}from"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-Bze5fObe.js";import{u as ee,_ as Ae,a as $e,b as G,c as J,T as Te,N as Q,B as Ke,r as De,t as Ue,d as Ee,e as Oe,s as te,g as oe}from"./useVariationTableMapper-5ca8EiQP.js";import{_ as Be}from"./PartnerBtn.vue_vue_type_script_setup_true_lang-2MvgKqIS.js";import{g as F,C as h,d as D,G as Se,m as K,l as _,u as n,q as d,e as a,F as Ne,o as R,$ as W,w as N,c as ie,a0 as le,x as H,J as Ie,n as de,r as E,_ as X,a1 as qe,a2 as ne,t as Z,y as S,z as $,f as me,B as U,A as ce,a3 as Me,a4 as ae,j as Le,k as je,p as ue}from"./index-CJz8f9ss.js";import{g as Pe}from"./usePartnerDetails--U1EepqX.js";import{n as j,i as ze,g as ve,a as Fe}from"./priceUtils-1yxS_Q4Z.js";import{u as Qe}from"./usePartners-COd6KVjn.js";function He(e){return{id:e.id,orderNumber:Ge(e.orderNumber),partner:Pe(e.partnerId),createdDate:se(e.createdDate),dueDate:se(e.dueDate),status:e.status,type:e.type,total:j(e.totalAmount)}}function Ge(e){return`#${e}`}function se(e){return e?e.toLocaleDateString():"-"}function Je(e){return[{title:e("order.number"),key:"orderNumber",align:"start"},{title:e("partner.businessName"),key:"partner",align:"start"},{title:e("order.createdDate"),key:"createdDate",align:"start"},{title:e("order.dueDate"),key:"dueDate",align:"start"},{title:e("order.status"),key:"status",align:"start"},{title:e("order.type"),key:"direction",align:"start"},{title:e("order.total"),key:"total",align:"start"},{title:e("common.action",2),key:"actions",align:"start"}]}function We(e){const{tCap:r}=F(),l=h(()=>(e.value??[]).map(s=>He(s))),i=h(()=>Je(r));return{data:l,headers:i}}const Xe=D({__name:"OrderList",props:{orders:{}},setup(e){const r=Ne(),l=e,{deleteOrderCommmandHandler:i}=ee(),{data:u,headers:s}=We(Se(l,"orders"));function t(p,o){r.push(`/order/${o.item.id}`)}return(p,o)=>{const c=_("v-data-table");return R(),K(c,{headers:n(s),items:n(u),class:"text-start","hide-default-footer":"",density:"comfortable","items-per-page":-1,hover:"","onClick:row":t},{"item.partner":d(({item:m})=>[a(Be,{partner:m.partner},null,8,["partner"])]),"item.status":d(({item:m})=>[a($e,{status:m.status},null,8,["status"])]),"item.direction":d(({item:m})=>[a(Ae,{type:m.type},null,8,["type"])]),"item.actions":d(({item:m})=>[a(Re,{name:m.orderNumber,"action-fn":()=>n(i).handle({id:m.id}),mini:!0},null,8,["name","action-fn"])]),_:2},1032,["headers","items"])}}}),pe=D({__name:"TextEditor",props:{modelValue:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:r}){const l=r,{onKeydown:i}=G(l),{fieldRef:u}=J();return(s,t)=>{const p=_("v-text-field");return R(),K(p,{ref_key:"fieldRef",ref:u,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=o=>s.$emit("update:modelValue",o)),density:"compact",variant:"underlined","hide-details":"",tabindex:"0",onBlur:t[1]||(t[1]=o=>s.$emit("blur",e.focusKey)),onKeydown:n(i),style:W({width:e.width||"1vw"})},null,8,["model-value","onKeydown","style"])}}}),Ye=["tabindex"],Ze=D({__name:"EditableCell",props:{modelValue:{},hasEditor:{type:Boolean},width:{},position:{},activeCell:{},focusKey:{}},emits:["update:modelValue","request-edit","request-close","request-move-cell","request-move-row"],setup(e,{emit:r}){const l=e,i=r,u=h(()=>l.activeCell!==null&&l.position.row===l.activeCell.row&&l.position.column===l.activeCell.column),s=h(()=>u.value?-1:0),t=h({get:()=>l.modelValue,set:f=>x(f)}),p=h(()=>l.hasEditor?u.value:!1);N(()=>u.value,async f=>{f&&l.hasEditor&&(i("request-edit"),await de())});function o(f){switch(f){case Q.Up:m(-1);break;case Q.Down:m(1);break;case Q.Left:c(-1);break;case Q.Right:c(1);break}}function c(f){i("request-move-cell",f)}function m(f){i("request-move-row",f)}function y(f){f===l.focusKey&&i("request-close")}function x(f){i("update:modelValue",f)}function C(){!u.value&&l.hasEditor&&i("request-edit")}return(f,T)=>(R(),ie("td",{tabindex:s.value,onClick:Ie(C,["stop"])},[p.value?le(f.$slots,"editor",{key:0,value:t.value,width:e.width,focusKey:u.value?e.focusKey:0,onUpdate:x,onBlur:y,onNavigate:o},()=>[a(pe,{"model-value":t.value,width:e.width,"focus-key":u.value?e.focusKey:0,"onUpdate:modelValue":x,onBlur:y,onNavigate:o},null,8,["model-value","width","focus-key"])]):H("",!0),p.value?H("",!0):le(f.$slots,"display",{key:1,value:t.value,width:e.width,focusKey:u.value?e.focusKey:0,onUpdate:x,onBlur:y,onNavigate:o},()=>[a(Te,{modelValue:t.value,width:e.width,"focus-key":u.value?e.focusKey:0},null,8,["modelValue","width","focus-key"])])],8,Ye))}});function et(e,r,l){function i(v){return v.row*r.length+v.column}function u(v){return v===null?null:{row:Math.floor(v/r.length),column:v%r.length}}const s=E(null),t=E(0);function p(v,A){s.value={row:v,column:A}}function o(){s.value=null,l()}function c(v){s.value!==null&&y(i(s.value),v)}function m(v){s.value!==null&&y(i(s.value),O(v))}function y(v,A){let V=v+A;const q=x(A);for(;T(V);){if(C(V)){s.value=u(V),t.value++,l();return}V+=q}}function x(v){return v<0?-1:1}function C(v){return f(v)?.navigable}function f(v){const A=v%r.length;return r.find(V=>V.order===A)}function T(v){return!(v<0||v>=e.value.length*r.length)}function O(v){return v*r.length}function I(v,A){return O(v)+A===u(s.value)}return{activeCell:s,focusKey:t,startEditingCell:p,isCellFocused:I,stopEditingCell:o,moveEditingCellByCell:c,moveEditingCellByRow:m}}const tt=D({__name:"AutocompleteEditor",props:{modelValue:{},items:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:r}){const l=r,{onKeydown:i}=G(l),{fieldRef:u}=J();return(s,t)=>{const p=_("v-autocomplete");return R(),K(p,{ref_key:"fieldRef",ref:u,class:"autocomplete-editor","model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=o=>s.$emit("update:modelValue",o)),items:e.items,density:"compact","hide-details":"",onBlur:t[1]||(t[1]=o=>s.$emit("blur",e.focusKey)),onKeydown:n(i),style:W({width:e.width||"5vw"})},null,8,["model-value","items","onKeydown","style"])}}}),ot=X(tt,[["__scopeId","data-v-d458848c"]]),lt=D({__name:"NumberEditor",props:{modelValue:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:r}){const l=r,{onKeydown:i}=G(l),{fieldRef:u}=J();return(s,t)=>{const p=_("v-text-field");return R(),K(p,{ref_key:"fieldRef",ref:u,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=o=>s.$emit("update:modelValue",o)),density:"compact",variant:"underlined","hide-details":"",tabindex:"0",onBlur:t[1]||(t[1]=o=>s.$emit("blur",e.focusKey)),onKeydown:n(i),style:W({width:e.width||"1vw"})},null,8,["model-value","onKeydown","style"])}}}),nt=D({__name:"PriceEditor",props:{modelValue:{},width:{},focusKey:{}},emits:["update:modelValue","blur","navigate"],setup(e,{emit:r}){const l=e,i=r,u=h(()=>ze(l.modelValue)),{onKeydown:s}=G(i),{fieldRef:t}=J();return(p,o)=>{const c=_("v-text-field");return R(),K(c,{ref_key:"fieldRef",ref:t,class:"price-editor","model-value":u.value,"onUpdate:modelValue":o[0]||(o[0]=m=>p.$emit("update:modelValue",n(Fe)(m))),density:"compact",variant:"underlined","hide-details":"",tabindex:"0",type:"text",inputmode:"decimal",onBlur:o[1]||(o[1]=m=>p.$emit("blur",e.focusKey)),onKeydown:n(s),suffix:n(ve)(),style:W({width:e.width||"2vw"})},null,8,["model-value","onKeydown","suffix","style"])}}}),at={autocomplete:ot,number:lt,price:nt,text:pe},ut=D({__name:"EditableTable",props:{modelValue:{},tableColumns:{},hideRowIndex:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:r}){const l=e,i=r,u=E([]),{activeCell:s,focusKey:t,startEditingCell:p,stopEditingCell:o,moveEditingCellByCell:c,moveEditingCellByRow:m}=et(u,l.tableColumns,x);N(()=>l.modelValue,T=>{u.value=Ee(T)},{immediate:!0,deep:!0});function y(T,O,I){return O.calculate?O.calculate(T):I}function x(){i("update:modelValue",Ue(u.value))}function C(T){return l.tableColumns[T].editorType!==void 0}function f(T){o(),u.value.splice(T,1),x()}return(T,O)=>{const I=_("v-btn");return R(),K(Ke,{"table-columns":e.tableColumns,modelValue:u.value,"hide-row-index":e.hideRowIndex},{cell:d(({row:v,rowIndex:A,column:V,colIndex:q,cell:P})=>[a(Ze,{modelValue:P.value,"onUpdate:modelValue":w=>P.value=w,hasEditor:C(q),width:V.width,position:{row:A,column:q},"active-cell":n(s),"focus-key":n(t),onRequestEdit:w=>n(p)(A,q),onRequestClose:n(o),onRequestMoveCell:n(c),onRequestMoveRow:n(m)},qe({_:2},[V.editorType?{name:"editor",fn:d(w=>[(R(),K(ne(n(at)[V.editorType]),{"model-value":w.value,"onUpdate:modelValue":w.onUpdate,width:w.width,focusKey:w.focusKey,items:V.list,onBlur:w.onBlur,onNavigate:w.onNavigate},null,40,["model-value","onUpdate:modelValue","width","focusKey","items","onBlur","onNavigate"]))]),key:"0"}:void 0,V.rendererType?{name:"display",fn:d(w=>[(R(),K(ne(n(De)[V.rendererType]),{"model-value":y(v,V,w.value),width:w.width,focusKey:w.focusKey,"onUpdate:modelValue":w.onUpdate,onBlur:w.onBlur,onNavigate:w.onNavigate},null,40,["model-value","width","focusKey","onUpdate:modelValue","onBlur","onNavigate"]))]),key:"1"}:void 0]),1032,["modelValue","onUpdate:modelValue","hasEditor","width","position","active-cell","focus-key","onRequestEdit","onRequestClose","onRequestMoveCell","onRequestMoveRow"])]),actions:d(({row:v,rowIndex:A})=>[a(I,{icon:"mdi-close",variant:"text",color:"error",onClick:V=>f(A)},null,8,["onClick"])]),_:1},8,["table-columns","modelValue","hide-row-index"])}}}),st=X(ut,[["__scopeId","data-v-fdfd799d"]]),rt=D({__name:"OrderItemEdit",props:{modelValue:{}},emits:["update:modelValue","remove-item"],setup(e,{emit:r}){const l=e,i=r,u=E(structuredClone(Z(l.modelValue)));N(()=>l.modelValue,c=>{u.value=structuredClone(Z(c))},{deep:!0});function s(){i("update:modelValue",structuredClone(Z(u.value)))}const{vmToRows:t,rowsToVm:p}=Oe(te),o=h({get:()=>t(u.value),set:c=>{u.value=p(c),s()}});return(c,m)=>o.value.length>0?(R(),K(st,{key:0,modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=y=>o.value=y),tableColumns:n(te)},null,8,["modelValue","tableColumns"])):H("",!0)}}),re=D({__name:"AmountAdjustmentField",props:{modelValue:{},baseAmount:{},label:{}},emits:["update:modelValue"],setup(e,{emit:r}){const l=e,i=r,u=E("percent"),s=E(0),t=h(()=>u.value==="amount"?s.value||0:(s.value||0)/100*l.baseAmount),p=h(()=>u.value==="percent"?j(t.value):"");return N(()=>l.modelValue,o=>{u.value==="amount"?s.value=o:l.baseAmount>0&&(s.value=+(o/l.baseAmount*100).toFixed(2))},{immediate:!0}),N(()=>l.baseAmount,o=>{if(u.value==="percent"){const c=o*(s.value||0)/100;i("update:modelValue",Math.max(0,c))}}),N([s,u],()=>{let o=0;u.value==="amount"?o=s.value||0:o=(s.value||0)/100*l.baseAmount,i("update:modelValue",Math.max(0,o))}),(o,c)=>{const m=_("v-btn"),y=_("v-btn-toggle"),x=_("v-text-field");return R(),K(x,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=C=>s.value=C),hint:p.value,label:e.label,type:"number","persistent-hint":u.value==="percent"},{"append-inner":d(()=>[a(y,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=C=>u.value=C),density:"compact",mandatory:"",divided:"","selected-class":"bg-primary"},{default:d(()=>[a(m,{value:"percent"},{default:d(()=>[...c[2]||(c[2]=[S("%",-1)])]),_:1}),a(m,{value:"amount"},{default:d(()=>[S($(n(ve)()),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","hint","label","persistent-hint"])}}}),it=D({__name:"vatCalculatorField",props:{modelValue:{},baseAmount:{}},emits:["update:modelValue"],setup(e,{emit:r}){const{required:l,numeric:i}=me(),{tCap:u}=F(),s=e,t=r,p=E(0),o=y=>{p.value=Number(y)/100},c=h(()=>p.value*s.baseAmount),m=h(()=>j(c.value));return N(()=>s.modelValue,y=>{p.value=Number(y)||0},{immediate:!0}),N(()=>p.value,y=>{t("update:modelValue",y)}),(y,x)=>{const C=_("v-text-field");return R(),K(C,{"model-value":p.value*100,"onUpdate:modelValue":o,type:"number",min:"0",max:"100",step:"1",suffix:"%",label:n(u)("order.vatRate"),rules:[n(l),n(i)],hint:m.value,"persistent-hint":""},null,8,["model-value","label","rules","hint"])}}}),dt={class:"date-picker-wrapper"},mt={class:"v-label"},ct={class:"date-picker-row"},vt=D({__name:"DatePicker",props:{modelValue:{},title:{}},emits:["update:modelValue"],setup(e,{emit:r}){const{tCap:l}=F(),i=e,u=r,s=E(!1),t=E(i.modelValue);function p(){t.value&&(u("update:modelValue",t.value),s.value=!1)}const o=h(()=>t.value?new Date(t.value).toLocaleDateString():l("common.noDateSelected"));return(c,m)=>{const y=_("v-btn"),x=_("v-date-picker"),C=_("v-menu");return R(),ie("div",dt,[U("label",mt,$(e.title),1),U("div",ct,[a(C,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=f=>s.value=f),transition:"scale-transition","offset-y":"","close-on-content-click":!1,"close-on-back":""},{activator:d(({props:f})=>[a(y,ce(f,{class:"date-btn",variant:"text",ripple:!1,size:"large",text:o.value}),null,16,["text"])]),default:d(()=>[a(x,{modelValue:t.value,"onUpdate:modelValue":[m[0]||(m[0]=f=>t.value=f),p],min:new Date,class:"weekdays-primary","control-variant":"modal",elevation:"1","hide-header":"","show-adjacent-months":""},null,8,["modelValue","min"])]),_:1},8,["modelValue"]),a(y,{icon:"mdi-close",color:"red",size:"large",variant:"text",disabled:!t.value,onClick:m[2]||(m[2]=f=>t.value=null),title:"Clear date"},null,8,["disabled"])])])}}}),pt=X(vt,[["__scopeId","data-v-adf4af75"]]);function ft(e){return{partnerId:e.partnerId,vatRate:e.vatRate,dueDate:e.dueDate||void 0,notes:e.notes,depositAmount:e.depositAmount,discountAmount:e.discountAmount,items:_t(e.items)}}function _t(e){const r=e.flatMap(l=>yt(l));return bt(r).sort((l,i)=>l.derivedSku.localeCompare(i.derivedSku))}function yt(e,r){const l=gt(e.sizing),i=Vt(e.variationSnapshot);return l.map(([u,s])=>{const t={attributes:{...i.attributes??{},size:u},flags:i.flags};return{name:e.name,unitPrice:e.unitPrice,productCode:e.productCode,quantity:s,variationSnapshot:t,derivedSku:Me(e.productCode,t)}})}function bt(e){const r=new Map;for(const l of e){const i=l.derivedSku,u=r.get(i);u?u.quantity+=l.quantity:r.set(i,{...l})}return[...r.values()]}function gt(e){return Object.entries(e).filter(([r,l])=>l>0).map(([r,l])=>[r.split(":")[1],l])}function Vt(e,r){const l={...wt(e.attributes)??{}},i={...e.flags??{}};return{...Object.keys(l).length?{attributes:l}:{},...Object.keys(i).length?{flags:i}:{}}}function wt(e){if(!e)return;const r=Object.fromEntries(Object.entries(e).filter(([l,i])=>i!==""));return Object.keys(r).length>0?r:void 0}const ht=D({__name:"AddOrderModal",setup(e){const{maxLength:r,required:l}=me(),{createCreditOrderCommmandHandler:i}=ee(),{partners:u,partnersToItemProps:s}=Qe(),{tCap:t}=F(),p=[{title:oe(ae.Sales,t),value:"Sales"},{title:oe(ae.Purchase,t),value:"Purchase"}],o=Le({type:"Sales",partnerId:"",vatRate:.24,dueDate:null,notes:"",depositAmount:0,discountAmount:0,items:[]}),{dialog:c,formRef:m,validForm:y,loading:x,errorMessage:C,close:f,reset:T,submit:O}=je(o,{autoReset:!1}),I=E([]);function v(){o.items.push({name:"",derivedSku:"",unitPrice:0,productCode:"",variationSnapshot:{},sizing:{}}),de(()=>{I.value.push(o.items.length-1)})}const A=h(()=>o.items.reduce((M,b)=>{const B=Object.values(b.sizing).reduce((z,k)=>z+k,0)??0;return M+B},0)),V=h(()=>o.items.reduce((M,b)=>{const z=(Object.values(b.sizing).reduce((k,Y)=>k+Y,0)??0)*b.unitPrice;return M+z},0)),q=h(()=>V.value*o.vatRate),P=h(()=>V.value+q.value),w=h(()=>P.value-o.discountAmount),fe=h(()=>w.value-o.depositAmount);async function _e(){await O(async M=>{M.type==="Sales"&&i.handle(ft(M)),T()})}return(M,b)=>{const B=_("v-btn"),z=_("v-autocomplete"),k=_("v-col"),Y=_("v-select"),L=_("v-row"),ye=_("v-textarea"),be=_("v-alert"),ge=_("v-container"),Ve=_("v-form"),we=_("v-card-text"),he=_("v-spacer"),xe=_("v-card-actions"),ke=_("v-card"),Ce=_("v-dialog");return R(),K(Ce,{modelValue:n(c),"onUpdate:modelValue":b[9]||(b[9]=g=>ue(c)?c.value=g:null),"max-width":"1800"},{activator:d(({props:g})=>[a(B,ce(g,{color:"surface-variant",text:n(t)("order.addOrderTitle"),"prepend-icon":"mdi-plus",variant:"flat"}),null,16,["text"])]),default:d(()=>[a(ke,{title:n(t)("order.addOrderTitle")},{default:d(()=>[a(we,null,{default:d(()=>[a(Ve,{ref_key:"formRef",ref:m,modelValue:n(y),"onUpdate:modelValue":b[8]||(b[8]=g=>ue(y)?y.value=g:null)},{default:d(()=>[a(ge,{fluid:""},{default:d(()=>[a(L,{dense:""},{default:d(()=>[a(k,{cols:"6"},{default:d(()=>[a(z,{modelValue:o.partnerId,"onUpdate:modelValue":b[0]||(b[0]=g=>o.partnerId=g),"item-props":n(s),label:n(t)("partner.partner"),items:n(u),rules:[n(l)]},null,8,["modelValue","item-props","label","items","rules"])]),_:1}),a(k,{cols:"6"},{default:d(()=>[a(Y,{modelValue:o.type,"onUpdate:modelValue":b[1]||(b[1]=g=>o.type=g),label:n(t)("order.type"),items:p,rules:[n(l)],"item-title":"title","item-value":"value"},null,8,["modelValue","label","rules"])]),_:1}),a(k,{cols:"6"},{default:d(()=>[a(pt,{modelValue:o.dueDate,"onUpdate:modelValue":b[2]||(b[2]=g=>o.dueDate=g),title:n(t)("order.dueDate")},null,8,["modelValue","title"])]),_:1}),a(k,{cols:"12",class:"d-flex justify-space-between align-center mb-4"},{default:d(()=>[U("h3",null,$(n(t)("order.items",2)),1),a(B,{color:"indigo",text:n(t)("order.addOrderItemTitle"),"prepend-icon":"mdi-plus",variant:"text",onClick:v},null,8,["text"])]),_:1})]),_:1}),a(L,{dense:""},{default:d(()=>[a(rt,{modelValue:o.items,"onUpdate:modelValue":b[3]||(b[3]=g=>o.items=g)},null,8,["modelValue"])]),_:1}),a(L,{class:"mb-4",justify:"end",align:"center"},{default:d(()=>[a(k,{cols:"auto"},{default:d(()=>[S($(n(t)("order.orderQuantity"))+": ",1),U("strong",null,$(A.value),1)]),_:1}),a(k,{cols:"auto"},{default:d(()=>[S($(n(t)("order.orderSum"))+" ",1),U("strong",null,$(n(j)(V.value)),1)]),_:1})]),_:1}),a(L,null,{default:d(()=>[a(k,{cols:"6"},{default:d(()=>[a(ye,{modelValue:o.notes,"onUpdate:modelValue":b[4]||(b[4]=g=>o.notes=g),label:n(t)("order.notes"),rules:[n(r)(1e3)],rows:"4",counter:"1000"},null,8,["modelValue","label","rules"])]),_:1}),a(k,{dense:"",cols:"6"},{default:d(()=>[a(L,{class:"mb-4",justify:"end",align:"center"},{default:d(()=>[a(k,{cols:"6"},{default:d(()=>[a(it,{modelValue:o.vatRate,"onUpdate:modelValue":b[5]||(b[5]=g=>o.vatRate=g),"base-amount":V.value},null,8,["modelValue","base-amount"])]),_:1}),a(k,{cols:"4"},{default:d(()=>[S($(n(t)("order.amountAfterTax"))+" ",1),U("strong",null,$(n(j)(P.value)),1)]),_:1})]),_:1}),a(L,{class:"mb-4",justify:"end",align:"center"},{default:d(()=>[a(k,{cols:"6"},{default:d(()=>[a(re,{modelValue:o.discountAmount,"onUpdate:modelValue":b[6]||(b[6]=g=>o.discountAmount=g),"base-amount":P.value,label:n(t)("order.discount")},null,8,["modelValue","base-amount","label"])]),_:1}),a(k,{cols:"4"},{default:d(()=>[S($(n(t)("order.total"))+": ",1),U("strong",null,$(n(j)(w.value)),1)]),_:1})]),_:1}),a(L,{class:"mb-4",justify:"end",align:"center"},{default:d(()=>[a(k,{cols:"6"},{default:d(()=>[a(re,{modelValue:o.depositAmount,"onUpdate:modelValue":b[7]||(b[7]=g=>o.depositAmount=g),"base-amount":w.value,label:n(t)("order.deposit")},null,8,["modelValue","base-amount","label"])]),_:1}),a(k,{cols:"4"},{default:d(()=>[S($(n(t)("order.remainingAmount"))+": ",1),U("strong",null,$(n(j)(fe.value)),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(C)?(R(),K(be,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:d(()=>[S($(n(C)),1)]),_:1})):H("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(xe,null,{default:d(()=>[a(B,{variant:"tonal",color:"warning",text:n(t)("common.clear"),onClick:n(T)},null,8,["text","onClick"]),a(he),a(B,{variant:"tonal",color:"indigo",text:n(t)("common.save"),loading:n(x),disabled:!n(y)||n(x),onClick:_e},null,8,["text","loading","disabled"]),a(B,{text:n(t)("common.cancel"),color:"red",disabled:n(x),onClick:n(f)},null,8,["text","disabled","onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),xt=X(ht,[["__scopeId","data-v-8ce6c558"]]),kt={class:"d-flex justify-space-between align-center mb-4"},Ct={class:"text-h6"},Et=D({__name:"OrdersView",setup(e){const{allOrders:r}=ee(),{tCap:l}=F();return(i,u)=>{const s=_("v-card"),t=_("v-container");return R(),K(t,{class:"py-6"},{default:d(()=>[a(s,{class:"pa-4"},{default:d(()=>[U("div",kt,[U("h2",Ct,$(n(l)("order.order",2)),1),a(xt)]),a(Xe,{orders:n(r)},null,8,["orders"])]),_:1})]),_:1})}}});export{Et as default};
