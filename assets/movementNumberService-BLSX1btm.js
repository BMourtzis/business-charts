import{M as o,b as i}from"./MovementReasonChip.vue_vue_type_script_setup_true_lang-Crw6NIEh.js";import{a4 as f,ar as m,as as c,aa as M,ag as w,at as l}from"./index-CeMrVeL6.js";class g{static createPaymentFromOrder(r,e,a,t,s){return r===f.Sales?this.customerPayment(a,e,t,s):this.supplierPayment(a,e,t,s)}static customerPayment(r,e,a,t){return new m(c(),r,e,a,t,o.In,i.CustomerPayment)}static supplierPayment(r,e,a,t){return new m(c(),r,e,a,t,o.Out,i.SupplierPayment)}static customerRefund(r,e,a,t){return new m(c(),r,e,a,t,o.Out,i.CustomerRefund)}}class d{static async getNext(r){const e=new Date().getFullYear()%100,a=await M.load(),t=await w.getById(r);if(!t)throw new Error(`Partner with id:${r} doesn't exist`);const s=a.filter(n=>n.partnerId===r);if(s.length===0)return l.create(e,t.clientNumber,1);const u=s.map(n=>n.sequence).filter(n=>n.year===e).sort((n,p)=>n.format().localeCompare(p.format())).at(-1);if(!u)throw new Error("Error finding the sequence");return l.create(e,t.clientNumber,u.value+1)}}export{d as M,g as a};
