import{_ as X}from"./PartnerList.vue_vue_type_script_setup_true_lang-BrZL-w4L.js";import{u as z}from"./useDeliveryCarrierDetails-D-lDqWhS.js";import{d as k,f as Y,g as w,j as Z,k as h,l as s,m as b,o as C,u as e,p as B,q as n,e as t,x as ee,y as te,z as F,A as le,B as U,_ as ae}from"./index-DDCoslFA.js";import{u as oe,_ as ne}from"./AddressLink.vue_vue_type_script_setup_true_lang-B35uH1Wn.js";import"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-BQDfpqqg.js";import"./EditPartnerModal.vue_vue_type_script_setup_true_lang-BS7dK52S.js";const re=k({__name:"AddB2BCustomerModal",setup(R){const{maxLength:m,required:c,emailFormat:x,phoneFormat:g,rangeLength:_}=Y(),{createB2BCustomerCommandHandler:v}=z(),{carriers:I}=oe(),{tCap:u}=w(),l=Z({businessName:"",contactName:"",deliveryCarrierId:"",email:"",phone:"",street:"",city:"",zip:"",country:""}),{dialog:f,formRef:P,validForm:p,loading:V,errorMessage:N,close:q,submit:L}=h(l);function j(r){return{title:r.name,value:r.id,subtitle:r.primaryLocation?.value??""}}function A(){return(l.city||l.zip||l.country)&&!l.street?u("validation.streetRequired"):!0}function D(){return(l.street||l.zip||l.country)&&!l.city?u("validation.cityRequired"):!0}async function T(){await L(async r=>{v.handle({contactName:r.contactName,deliveryCarrierId:r.deliveryCarrierId,businessName:r.businessName,email:r.email,phone:r.phone,address:$(r)})})}function $(r){if(!(!r.street&&!r.city))return{id:"",isPrimary:!0,street:r.street??"",city:r.city??"",zip:r.zip,country:r.country}}return(r,o)=>{const y=s("v-btn"),i=s("v-text-field"),d=s("v-col"),H=s("v-autocomplete"),M=s("v-row"),E=s("v-alert"),S=s("v-container"),G=s("v-form"),J=s("v-card-text"),K=s("v-spacer"),O=s("v-card-actions"),Q=s("v-card"),W=s("v-dialog");return C(),b(W,{modelValue:e(f),"onUpdate:modelValue":o[10]||(o[10]=a=>B(f)?f.value=a:null),"max-width":"500"},{activator:n(({props:a})=>[t(y,le(a,{color:"indigo",text:e(u)("partner.addΒ2ΒCustomerTitle"),"prepend-icon":"mdi-plus",variant:"flat"}),null,16,["text"])]),default:n(()=>[t(Q,{title:e(u)("partner.addΒ2ΒCustomerTitle")},{default:n(()=>[t(J,null,{default:n(()=>[t(G,{ref_key:"formRef",ref:P,modelValue:e(p),"onUpdate:modelValue":o[9]||(o[9]=a=>B(p)?p.value=a:null)},{default:n(()=>[t(S,{class:"pa-0",fluid:""},{default:n(()=>[t(M,{dense:""},{default:n(()=>[t(d,{cols:"12"},{default:n(()=>[t(i,{modelValue:l.contactName,"onUpdate:modelValue":o[0]||(o[0]=a=>l.contactName=a),label:e(u)("partner.contactName"),rules:[e(c),e(_)(3,50)]},null,8,["modelValue","label","rules"])]),_:1}),t(d,{cols:"12"},{default:n(()=>[t(i,{modelValue:l.businessName,"onUpdate:modelValue":o[1]||(o[1]=a=>l.businessName=a),label:e(u)("partner.businessName"),rules:[e(m)(50)]},null,8,["modelValue","label","rules"])]),_:1}),t(d,{cols:"12"},{default:n(()=>[t(H,{modelValue:l.deliveryCarrierId,"onUpdate:modelValue":o[2]||(o[2]=a=>l.deliveryCarrierId=a),"item-props":j,label:"Carrier",items:e(I),rules:[e(c)]},{"append-inner":n(()=>[t(ne,{mini:""})]),_:1},8,["modelValue","items","rules"])]),_:1}),t(d,{cols:"12"},{default:n(()=>[t(i,{modelValue:l.email,"onUpdate:modelValue":o[3]||(o[3]=a=>l.email=a),label:e(u)("contact.mainEmailField"),placeholder:"johndoe@gmail.com",type:"email",rules:[e(x)]},null,8,["modelValue","label","rules"])]),_:1}),t(d,{cols:"12"},{default:n(()=>[t(i,{modelValue:l.phone,"onUpdate:modelValue":o[4]||(o[4]=a=>l.phone=a),label:e(u)("contact.mainPhoneField"),placeholder:"21080212345",type:"tel",rules:[e(g)]},null,8,["modelValue","label","rules"])]),_:1}),t(d,{cols:"12"},{default:n(()=>[t(i,{modelValue:l.street,"onUpdate:modelValue":o[5]||(o[5]=a=>l.street=a),label:e(u)("address.street"),rules:[A,e(m)(50)]},null,8,["modelValue","label","rules"])]),_:1}),t(d,{cols:"8"},{default:n(()=>[t(i,{modelValue:l.city,"onUpdate:modelValue":o[6]||(o[6]=a=>l.city=a),label:e(u)("address.city"),rules:[D,e(m)(50)]},null,8,["modelValue","label","rules"])]),_:1}),t(d,{cols:"4"},{default:n(()=>[t(i,{modelValue:l.zip,"onUpdate:modelValue":o[7]||(o[7]=a=>l.zip=a),label:e(u)("address.zip"),rules:[e(m)(50)]},null,8,["modelValue","label","rules"])]),_:1}),t(d,{cols:"12"},{default:n(()=>[t(i,{modelValue:l.country,"onUpdate:modelValue":o[8]||(o[8]=a=>l.country=a),label:e(u)("address.country"),rules:[e(m)(50)]},null,8,["modelValue","label","rules"])]),_:1})]),_:1}),e(N)?(C(),b(E,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>[te(F(e(N)),1)]),_:1})):ee("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(O,null,{default:n(()=>[t(K),t(y,{variant:"tonal",color:"indigo",text:e(u)("common.save"),loading:e(V),disabled:!e(p)||e(V),onClick:T},null,8,["text","loading","disabled"]),t(y,{text:e(u)("common.cancel"),color:"red",disabled:e(V),onClick:e(q)},null,8,["text","disabled","onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),se={class:"d-flex justify-space-between align-center mb-4"},ue={class:"text-h6"},de=k({__name:"B2BCustomersView",setup(R){const{b2bCustomers:m}=z(),{tCap:c}=w();return(x,g)=>{const _=s("v-card"),v=s("v-container");return C(),b(v,{class:"py-6"},{default:n(()=>[t(_,{class:"pa-4"},{default:n(()=>[U("div",se,[U("h2",ue,F(e(c)("partner.b2bCustomer",2)),1),t(re)]),t(X,{partners:e(m)},null,8,["partners"])]),_:1})]),_:1})}}}),fe=ae(de,[["__scopeId","data-v-4672e507"]]);export{fe as default};
