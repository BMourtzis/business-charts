import{_ as O}from"./PartnerList.vue_vue_type_script_setup_true_lang-DyFtZEIf.js";import{u as k}from"./useDeliveryCarrierDetails-BgK0EspI.js";import{d as w,f as Q,g as F,j as W,k as X,l as u,m as b,o as x,u as e,p as z,q as n,e as l,x as Y,y as Z,z as R,A as h,B as C,_ as ee}from"./index-HwQ46i-8.js";import"./ConfirmDeleteModal.vue_vue_type_script_setup_true_lang-BSbwyG9h.js";import"./EditPartnerModal.vue_vue_type_script_setup_true_lang-BgQk_Vgm.js";import"./AddressLink.vue_vue_type_script_setup_true_lang-in2AP9-o.js";const le=w({__name:"AddSupplierModal",setup(S){const{maxLength:c,required:m,emailFormat:g,phoneFormat:N,rangeLength:_}=Q(),{createSupplierCommandHandler:v}=k(),{tCap:s}=F(),t=W({businessName:"",contactName:"",activity:"",email:"",phone:"",street:"",city:"",zip:"",country:""}),{dialog:f,formRef:q,validForm:p,loading:V,errorMessage:U,close:B,submit:P}=X(t);function j(){return(t.city||t.zip||t.country)&&!t.street?s("validation.streetRequired"):!0}function A(){return(t.street||t.zip||t.country)&&!t.city?s("validation.cityRequired"):!0}async function L(){await P(async r=>{v.handle({contactName:r.contactName,activity:r.activity,businessName:r.businessName,email:r.email,phone:r.phone,address:T(r)})})}function T(r){if(!(!r.street&&!r.city))return{id:"",isPrimary:!0,street:r.street??"",city:r.city??"",zip:r.zip,country:r.country}}return(r,o)=>{const y=u("v-btn"),d=u("v-text-field"),i=u("v-col"),D=u("v-row"),H=u("v-alert"),M=u("v-container"),$=u("v-form"),E=u("v-card-text"),I=u("v-spacer"),G=u("v-card-actions"),J=u("v-card"),K=u("v-dialog");return x(),b(K,{modelValue:e(f),"onUpdate:modelValue":o[10]||(o[10]=a=>z(f)?f.value=a:null),"max-width":"500"},{activator:n(({props:a})=>[l(y,h(a,{color:"indigo",text:e(s)("partner.addSupplierTitle"),"prepend-icon":"mdi-plus",variant:"flat"}),null,16,["text"])]),default:n(()=>[l(J,{title:e(s)("partner.addSupplierTitle")},{default:n(()=>[l(E,null,{default:n(()=>[l($,{ref_key:"formRef",ref:q,modelValue:e(p),"onUpdate:modelValue":o[9]||(o[9]=a=>z(p)?p.value=a:null)},{default:n(()=>[l(M,{class:"pa-0",fluid:""},{default:n(()=>[l(D,{dense:""},{default:n(()=>[l(i,{cols:"12"},{default:n(()=>[l(d,{modelValue:t.contactName,"onUpdate:modelValue":o[0]||(o[0]=a=>t.contactName=a),label:e(s)("partner.contactName"),rules:[e(m),e(_)(3,50)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"12"},{default:n(()=>[l(d,{modelValue:t.businessName,"onUpdate:modelValue":o[1]||(o[1]=a=>t.businessName=a),label:e(s)("partner.businessName"),rules:[e(c)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"12"},{default:n(()=>[l(d,{modelValue:t.activity,"onUpdate:modelValue":o[2]||(o[2]=a=>t.activity=a),label:e(s)("partner.activity"),rules:[e(m),e(c)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"12"},{default:n(()=>[l(d,{modelValue:t.email,"onUpdate:modelValue":o[3]||(o[3]=a=>t.email=a),label:e(s)("contact.mainEmailField"),placeholder:"johndoe@gmail.com",type:"email",rules:[e(g)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"12"},{default:n(()=>[l(d,{modelValue:t.phone,"onUpdate:modelValue":o[4]||(o[4]=a=>t.phone=a),label:e(s)("contact.mainPhoneField"),placeholder:"21080212345",type:"tel",rules:[e(N)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"12"},{default:n(()=>[l(d,{modelValue:t.street,"onUpdate:modelValue":o[5]||(o[5]=a=>t.street=a),label:e(s)("address.street"),rules:[j,e(c)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"8"},{default:n(()=>[l(d,{modelValue:t.city,"onUpdate:modelValue":o[6]||(o[6]=a=>t.city=a),label:e(s)("address.city"),rules:[A,e(c)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"4"},{default:n(()=>[l(d,{modelValue:t.zip,"onUpdate:modelValue":o[7]||(o[7]=a=>t.zip=a),label:e(s)("address.zip"),rules:[e(c)(50)]},null,8,["modelValue","label","rules"])]),_:1}),l(i,{cols:"12"},{default:n(()=>[l(d,{modelValue:t.country,"onUpdate:modelValue":o[8]||(o[8]=a=>t.country=a),label:e(s)("address.country"),rules:[e(c)(50)]},null,8,["modelValue","label","rules"])]),_:1})]),_:1}),e(U)?(x(),b(H,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:n(()=>[Z(R(e(U)),1)]),_:1})):Y("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(G,null,{default:n(()=>[l(I),l(y,{variant:"tonal",color:"indigo",text:e(s)("common.save"),loading:e(V),disabled:!e(p)||e(V),onClick:L},null,8,["text","loading","disabled"]),l(y,{text:e(s)("common.cancel"),color:"red",disabled:e(V),onClick:e(B)},null,8,["text","disabled","onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),te={class:"d-flex justify-space-between align-center mb-4"},ae={class:"text-h6"},oe=w({__name:"SuppliersView",setup(S){const{suppliers:c}=k(),{tCap:m}=F();return(g,N)=>{const _=u("v-card"),v=u("v-container");return x(),b(v,{class:"py-6"},{default:n(()=>[l(_,{class:"pa-4"},{default:n(()=>[C("div",te,[C("h2",ae,R(e(m)("partner.supplier",2)),1),l(le)]),l(O,{partners:e(c)},null,8,["partners"])]),_:1})]),_:1})}}}),ce=ee(oe,[["__scopeId","data-v-7b7e3176"]]);export{ce as default};
