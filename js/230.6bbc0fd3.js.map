{"version":3,"file":"js/230.6bbc0fd3.js","mappings":"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","sources":["webpack://business-charts/./src/presentation/composables/deliveryCarrier/useCarrierTable.ts","webpack://business-charts/./src/presentation/components/deliveryCarrier/CarrierList.vue?4519","webpack://business-charts/./src/presentation/components/deliveryCarrier/CarrierList.vue","webpack://business-charts/./src/presentation/components/deliveryCarrier/CarrierList.vue?2f71","webpack://business-charts/./src/presentation/views/deliveryCarrier/DeliveryCarrierView.vue?a759","webpack://business-charts/./src/presentation/views/deliveryCarrier/DeliveryCarrierView.vue","webpack://business-charts/./src/presentation/views/deliveryCarrier/DeliveryCarrierView.vue?5160"],"sourcesContent":["import { computed, Ref } from \"vue\";\nimport { DataTableHeader } from \"vuetify\";\n\nimport { DeliveryCarrier } from \"@/domain/deliveryCarrier/deliveryCarrier\";\nimport { ContactType } from \"@/domain/contact/contactTypes\";\n\nimport { useLocalizationHelpers } from \"../useLocalization\";\n\nfunction getCarrierTableHeaders(tCap: (key: string, count?: number) => string) {\n    return [\n        { title: tCap('common.name'), key: \"name\", align: 'start' },\n        { title: tCap('address.city'), key: \"city\", align: 'start' },  \n        { title: tCap('address.street'), key: \"address\", align: 'start' },  \n        { title: tCap('contact.phone', 2), key: \"phones\", align: 'start' },  \n        { title: tCap('common.action', 2), key: \"actions\", align: 'start' }\n    ] satisfies DataTableHeader[];\n}\n\nfunction toTableData(carrier: DeliveryCarrier) {\n    const phones = carrier.phones\n        .filter(p => p.type === ContactType.Phone)\n        .sort((a, b) => Number(b.isPrimary) - Number(a.isPrimary))\n        .slice(0, 3);\n\n    return {\n        id: carrier.id,\n        name: carrier.name,\n        city: carrier.primaryLocation?.city ?? \"\",\n        address: carrier.primaryLocation,\n        phones,\n        value: carrier\n    };\n}\n\nexport function useDeliveryCarrierTable(carriersRef: Ref<DeliveryCarrier[] | undefined>) {\n    const { tCap } = useLocalizationHelpers();\n\n    const data = computed(() => {\n        const carriers = carriersRef.value ?? [];\n\n        return carriers.map(toTableData)\n    });\n\n    const headers = getCarrierTableHeaders(tCap);\n\n    return {data, headers};\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex flex-column gap-1\" }\nconst _hoisted_2 = { class: \"d-flex flex-column gap-1\" }\n\nimport { toRef } from 'vue';\nimport { useRouter } from 'vue-router';\n\nimport { DeliveryCarrier } from '@/domain/deliveryCarrier/deliveryCarrier';\n\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\nimport { useDeliveryCarrierTable } from '@/presentation/composables/deliveryCarrier/useCarrierTable';\nimport { VDataTableRow } from '@/presentation/types/types';\n\nimport ConfirmDeleteModal from \"@/presentation/components/ConfirmDeleteModal.vue\";\nimport PhoneLink from '@/presentation/components/contact/PhoneLink.vue';\nimport AddressLink from '@/presentation/components/contact/AddressLink.vue';\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\n\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'CarrierList',\n  props: {\n    carriers: {}\n  },\n  setup(__props: any) {\n\nconst { deleteDeliveryCarrierCommandHandler } = useDeliveryCarriers();\n\nconst router = useRouter();\n\nconst props = __props;\n\nconst { data, headers } = useDeliveryCarrierTable(toRef(props, \"carriers\"));\n\nfunction rowClick(_: MouseEvent, row: VDataTableRow<DeliveryCarrier>) {\n  router.push(`/carrier/${row.item.id}`);\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_data_table = _resolveComponent(\"v-data-table\")!\n\n  return (_openBlock(), _createBlock(_component_v_data_table, {\n    headers: _unref(headers),\n    items: _unref(data),\n    class: \"text-start\",\n    \"hide-default-footer\": \"\",\n    density: \"comfortable\",\n    hover: \"\",\n    \"onClick:row\": rowClick\n  }, {\n    [`item.phones`]: _withCtx(({ item }) => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.phones, (phone, i) => {\n          return (_openBlock(), _createBlock(PhoneLink, {\n            key: i,\n            class: \"d-flex align-center\",\n            phone: phone\n          }, null, 8, [\"phone\"]))\n        }), 128))\n      ])\n    ]),\n    [`item.address`]: _withCtx(({ item }) => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(AddressLink, {\n          class: \"d-flex align-center\",\n          address: item.address,\n          format: \"street\"\n        }, null, 8, [\"address\"])\n      ])\n    ]),\n    [`item.actions`]: _withCtx(({ item }) => [\n      _createVNode(CarrierModal, {\n        carrier: item.value,\n        mini: \"\"\n      }, null, 8, [\"carrier\"]),\n      _createVNode(ConfirmDeleteModal, {\n        name: item.name,\n        \"action-fn\": () => _unref(deleteDeliveryCarrierCommandHandler).handle({id: item.id}),\n        mini: \"\"\n      }, null, 8, [\"name\", \"action-fn\"])\n    ]),\n    _: 2\n  }, 1032, [\"headers\", \"items\"]))\n}\n}\n\n})","<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"data\"\n    class=\"text-start\"\n    hide-default-footer\n    density=\"comfortable\"\n    hover\n    @click:row=\"rowClick\"\n  >\n    <template #[`item.phones`]=\"{ item }\">\n      <div class=\"d-flex flex-column gap-1\">\n        <PhoneLink \n          v-for=\"(phone, i) in item.phones\" \n          :key=\"i\" \n          class=\"d-flex align-center\"\n          :phone=\"phone\"\n        />\n      </div>\n    </template>\n    <template #[`item.address`]=\"{ item }\">\n      <div class=\"d-flex flex-column gap-1\">\n        <AddressLink \n          class=\"d-flex align-center\"\n          :address=\"item.address\"\n          format=\"street\"\n        />\n      </div>\n    </template>\n    <template #[`item.actions`]=\"{ item }\">\n      <CarrierModal \n        :carrier=\"item.value\" \n        mini \n      />\n      <ConfirmDeleteModal\n        :name=\"item.name\"\n        :action-fn=\"() => deleteDeliveryCarrierCommandHandler.handle({id: item.id})\"\n        mini\n      />\n    </template>\n  </v-data-table>\n</template>\n\n<script setup lang=\"ts\">\nimport { defineProps, toRef } from 'vue';\nimport { useRouter } from 'vue-router';\n\nimport { DeliveryCarrier } from '@/domain/deliveryCarrier/deliveryCarrier';\n\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\nimport { useDeliveryCarrierTable } from '@/presentation/composables/deliveryCarrier/useCarrierTable';\nimport { VDataTableRow } from '@/presentation/types/types';\n\nimport ConfirmDeleteModal from \"@/presentation/components/ConfirmDeleteModal.vue\";\nimport PhoneLink from '@/presentation/components/contact/PhoneLink.vue';\nimport AddressLink from '@/presentation/components/contact/AddressLink.vue';\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\n\n\nconst { deleteDeliveryCarrierCommandHandler } = useDeliveryCarriers();\n\nconst router = useRouter();\n\nconst props = defineProps < {\n  carriers: DeliveryCarrier[] | undefined;\n} > ();\n\nconst { data, headers } = useDeliveryCarrierTable(toRef(props, \"carriers\"));\n\nfunction rowClick(_: MouseEvent, row: VDataTableRow<DeliveryCarrier>) {\n  router.push(`/carrier/${row.item.id}`);\n}\n\n</script>\n\n<style scoped></style>","import script from \"./CarrierList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CarrierList.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex justify-space-between align-center mb-4\" }\nconst _hoisted_2 = { class: \"text-h6\" }\n\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\nimport CarrierList from '@/presentation/components/deliveryCarrier/CarrierList.vue';\n\nimport { useLocalizationHelpers } from '@/presentation/composables/useLocalization';\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\n\n\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'DeliveryCarrierView',\n  setup(__props) {\n\nconst { carriers } = useDeliveryCarriers();\nconst { tCap } = useLocalizationHelpers()\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_openBlock(), _createBlock(_component_v_container, { class: \"py-6\" }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, { class: \"pa-4\" }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"h2\", _hoisted_2, _toDisplayString(_unref(tCap)('deliveryCarrier.carrier', 2)), 1),\n            _createVNode(CarrierModal)\n          ]),\n          _createVNode(CarrierList, { carriers: _unref(carriers) }, null, 8, [\"carriers\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n  <v-container class=\"py-6\">\n    <v-card \n      class=\"pa-4\"\n    >\n      <div class=\"d-flex justify-space-between align-center mb-4\">\n        <h2 class=\"text-h6\">\n          {{ tCap('deliveryCarrier.carrier', 2) }}\n        </h2>\n        <CarrierModal />\n        <!-- Filters (optional) -->\n        <!-- <div class=\"d-flex gap-3 mb-4\">\n          <v-text-field\n            v-model=\"search\"\n            density=\"compact\"\n            prepend-icon=\"mdi-magnify\"\n            placeholder=\"Search partners...\"\n            variant=\"solo-filled\"\n            hide-details\n          />\n        </div> -->\n      </div>\n      <CarrierList :carriers=\"carriers\" />\n    </v-card>\n  </v-container>\n</template>\n\n<script setup lang=\"ts\">\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\nimport CarrierList from '@/presentation/components/deliveryCarrier/CarrierList.vue';\n\nimport { useLocalizationHelpers } from '@/presentation/composables/useLocalization';\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\n\n\n\nconst { carriers } = useDeliveryCarriers();\nconst { tCap } = useLocalizationHelpers()\n\n</script>\n\n<style scoped>\n.v-card {\n  border-radius: 16px;\n}\n</style>","import script from \"./DeliveryCarrierView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DeliveryCarrierView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DeliveryCarrierView.vue?vue&type=style&index=0&id=405d8148&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-405d8148\"]])\n\nexport default __exports__"],"names":["getCarrierTableHeaders","tCap","title","key","align","toTableData","carrier","phones","filter","p","type","ContactType","Phone","sort","a","b","Number","isPrimary","slice","id","name","city","primaryLocation","address","value","useDeliveryCarrierTable","carriersRef","useLocalizationHelpers","data","computed","carriers","map","headers","_hoisted_1","class","_hoisted_2","_defineComponent","__name","props","setup","__props","deleteDeliveryCarrierCommandHandler","useDeliveryCarriers","router","useRouter","toRef","rowClick","_","row","push","item","_ctx","_cache","_component_v_data_table","_resolveComponent","_openBlock","_createBlock","_unref","items","density","hover","_withCtx","_createElementVNode","_createElementBlock","_Fragment","_renderList","phone","i","PhoneLink","_createVNode","AddressLink","format","CarrierModal","mini","ConfirmDeleteModal","action-fn","handle","__exports__","_component_v_card","_component_v_container","default","_toDisplayString","CarrierList"],"sourceRoot":""}