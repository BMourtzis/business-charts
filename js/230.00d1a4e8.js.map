{"version":3,"file":"js/230.00d1a4e8.js","mappings":"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","sources":["webpack://business-charts/./src/presentation/composables/deliveryCarrier/useCarrierTable.ts","webpack://business-charts/./src/presentation/components/deliveryCarrier/CarrierList.vue?4519","webpack://business-charts/./src/presentation/components/deliveryCarrier/CarrierList.vue","webpack://business-charts/./src/presentation/components/deliveryCarrier/CarrierList.vue?2f71","webpack://business-charts/./src/presentation/views/deliveryCarrier/DeliveryCarrierView.vue?a759","webpack://business-charts/./src/presentation/views/deliveryCarrier/DeliveryCarrierView.vue","webpack://business-charts/./src/presentation/views/deliveryCarrier/DeliveryCarrierView.vue?5160"],"sourcesContent":["import { computed, Ref } from \"vue\";\nimport { DataTableHeader } from \"vuetify\";\n\nimport { DeliveryCarrier } from \"@/domain/deliveryCarrier/deliveryCarrier\";\nimport { ContactType } from \"@/domain/contact/contactTypes\";\n\nimport { useLocalizationHelpers } from \"../useLocalization\";\n\nfunction getCarrierTableHeaders(tCap: (key: string, count?: number) => string) {\n    return [\n        { title: tCap('common.name'), key: \"name\", align: 'start' },\n        { title: tCap('address.city'), key: \"city\", align: 'start' },  \n        { title: tCap('address.street'), key: \"address\", align: 'start' },  \n        { title: tCap('contact.phone', 2), key: \"phones\", align: 'start' },  \n        { title: tCap('common.action', 2), key: \"actions\", align: 'start' }\n    ] satisfies DataTableHeader[];\n}\n\nfunction toTableData(carrier: DeliveryCarrier) {\n    const phones = carrier.phones\n        .filter(p => p.type === ContactType.Phone)\n        .sort((a, b) => Number(b.isPrimary) - Number(a.isPrimary))\n        .slice(0, 3);\n\n    return {\n        id: carrier.id,\n        name: carrier.name,\n        city: carrier.primaryLocation?.city ?? \"\",\n        address: carrier.primaryLocation,\n        phones,\n        value: carrier\n    };\n}\n\nexport function useDeliveryCarrierTable(carriersRef: Ref<DeliveryCarrier[] | undefined>) {\n    const { tCap } = useLocalizationHelpers();\n\n    const data = computed(() => {\n        const carriers = carriersRef.value ?? [];\n\n        return carriers.map(toTableData)\n    });\n\n    const headers = getCarrierTableHeaders(tCap);\n\n    return {data, headers};\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex flex-column gap-1\" }\nconst _hoisted_2 = { class: \"d-flex flex-column gap-1\" }\n\nimport { toRef } from 'vue';\n\nimport { DeliveryCarrier } from '@/domain/deliveryCarrier/deliveryCarrier';\n\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\nimport { useDeliveryCarrierTable } from '@/presentation/composables/deliveryCarrier/useCarrierTable';\n\nimport ConfirmDeleteModal from \"@/presentation/components/ConfirmDeleteModal.vue\";\nimport PhoneLink from '@/presentation/components/contact/PhoneLink.vue';\nimport AddressLink from '@/presentation/components/contact/AddressLink.vue';\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\n\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'CarrierList',\n  props: {\n    carriers: {}\n  },\n  setup(__props: any) {\n\nconst { deleteDeliveryCarrierCommandHandler } = useDeliveryCarriers();\n\nconst props = __props;\n\nconst { data, headers } = useDeliveryCarrierTable(toRef(props, \"carriers\"));\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_data_table = _resolveComponent(\"v-data-table\")!\n\n  return (_openBlock(), _createBlock(_component_v_data_table, {\n    headers: _unref(headers),\n    items: _unref(data),\n    class: \"text-start\",\n    \"hide-default-footer\": \"\",\n    density: \"comfortable\",\n    hover: \"\"\n  }, {\n    [`item.phones`]: _withCtx(({ item }) => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.phones, (phone, i) => {\n          return (_openBlock(), _createBlock(PhoneLink, {\n            key: i,\n            class: \"d-flex align-center\",\n            phone: phone\n          }, null, 8, [\"phone\"]))\n        }), 128))\n      ])\n    ]),\n    [`item.address`]: _withCtx(({ item }) => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(AddressLink, {\n          class: \"d-flex align-center\",\n          address: item.address,\n          format: \"street\"\n        }, null, 8, [\"address\"])\n      ])\n    ]),\n    [`item.actions`]: _withCtx(({ item }) => [\n      _createVNode(_component_v_btn, {\n        color: \"primary\",\n        variant: \"text\",\n        density: \"compact\",\n        icon: \"mdi-account-details\",\n        to: `/carrier/${item.id}`\n      }, null, 8, [\"to\"]),\n      _createVNode(CarrierModal, {\n        carrier: item.value,\n        mini: \"\"\n      }, null, 8, [\"carrier\"]),\n      _createVNode(ConfirmDeleteModal, {\n        name: item.name,\n        \"action-fn\": () => _unref(deleteDeliveryCarrierCommandHandler).handle({id: item.id}),\n        mini: \"\"\n      }, null, 8, [\"name\", \"action-fn\"])\n    ]),\n    _: 2\n  }, 1032, [\"headers\", \"items\"]))\n}\n}\n\n})","<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"data\"\n    class=\"text-start\"\n    hide-default-footer\n    density=\"comfortable\"\n    hover\n  >\n    <template #[`item.phones`]=\"{ item }\">\n      <div class=\"d-flex flex-column gap-1\">\n        <PhoneLink \n          v-for=\"(phone, i) in item.phones\" \n          :key=\"i\" \n          class=\"d-flex align-center\"\n          :phone=\"phone\"\n        />\n      </div>\n    </template>\n    <template #[`item.address`]=\"{ item }\">\n      <div class=\"d-flex flex-column gap-1\">\n        <AddressLink \n          class=\"d-flex align-center\"\n          :address=\"item.address\"\n          format=\"street\"\n        />\n      </div>\n    </template>\n    <template #[`item.actions`]=\"{ item }\">\n      <v-btn\n        color=\"primary\"\n        variant=\"text\"\n        density=\"compact\"\n        icon=\"mdi-account-details\"\n        :to=\"`/carrier/${item.id}`\"\n      />\n      <CarrierModal \n        :carrier=\"item.value\" \n        mini \n      />\n      <ConfirmDeleteModal\n        :name=\"item.name\"\n        :action-fn=\"() => deleteDeliveryCarrierCommandHandler.handle({id: item.id})\"\n        mini\n      />\n    </template>\n  </v-data-table>\n</template>\n\n<script setup lang=\"ts\">\nimport { defineProps, toRef } from 'vue';\n\nimport { DeliveryCarrier } from '@/domain/deliveryCarrier/deliveryCarrier';\n\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\nimport { useDeliveryCarrierTable } from '@/presentation/composables/deliveryCarrier/useCarrierTable';\n\nimport ConfirmDeleteModal from \"@/presentation/components/ConfirmDeleteModal.vue\";\nimport PhoneLink from '@/presentation/components/contact/PhoneLink.vue';\nimport AddressLink from '@/presentation/components/contact/AddressLink.vue';\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\n\n\nconst { deleteDeliveryCarrierCommandHandler } = useDeliveryCarriers();\n\nconst props = defineProps < {\n  carriers: DeliveryCarrier[] | undefined;\n} > ();\n\nconst { data, headers } = useDeliveryCarrierTable(toRef(props, \"carriers\"));\n\n</script>\n\n<style scoped></style>","import script from \"./CarrierList.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CarrierList.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"d-flex justify-space-between align-center mb-4\" }\nconst _hoisted_2 = { class: \"text-h6\" }\n\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\nimport CarrierList from '@/presentation/components/deliveryCarrier/CarrierList.vue';\n\nimport { useLocalizationHelpers } from '@/presentation/composables/useLocalization';\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\n\n\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'DeliveryCarrierView',\n  setup(__props) {\n\nconst { carriers } = useDeliveryCarriers();\nconst { tCap } = useLocalizationHelpers()\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n\n  return (_openBlock(), _createBlock(_component_v_container, { class: \"py-6\" }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, { class: \"pa-4\" }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createElementVNode(\"h2\", _hoisted_2, _toDisplayString(_unref(tCap)('deliveryCarrier.carrier', 2)), 1),\n            _createVNode(CarrierModal)\n          ]),\n          _createVNode(CarrierList, { carriers: _unref(carriers) }, null, 8, [\"carriers\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n  <v-container class=\"py-6\">\n    <v-card \n      class=\"pa-4\"\n    >\n      <div class=\"d-flex justify-space-between align-center mb-4\">\n        <h2 class=\"text-h6\">\n          {{ tCap('deliveryCarrier.carrier', 2) }}\n        </h2>\n        <CarrierModal />\n        <!-- Filters (optional) -->\n        <!-- <div class=\"d-flex gap-3 mb-4\">\n          <v-text-field\n            v-model=\"search\"\n            density=\"compact\"\n            prepend-icon=\"mdi-magnify\"\n            placeholder=\"Search partners...\"\n            variant=\"solo-filled\"\n            hide-details\n          />\n        </div> -->\n      </div>\n      <CarrierList :carriers=\"carriers\" />\n    </v-card>\n  </v-container>\n</template>\n\n<script setup lang=\"ts\">\nimport CarrierModal from '@/presentation/components/deliveryCarrier/CarrierModal.vue';\nimport CarrierList from '@/presentation/components/deliveryCarrier/CarrierList.vue';\n\nimport { useLocalizationHelpers } from '@/presentation/composables/useLocalization';\nimport { useDeliveryCarriers } from '@/presentation/composables/deliveryCarrier/useDeliveryCarriers';\n\n\n\nconst { carriers } = useDeliveryCarriers();\nconst { tCap } = useLocalizationHelpers()\n\n</script>\n\n<style scoped>\n.v-card {\n  border-radius: 16px;\n}\n</style>","import script from \"./DeliveryCarrierView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DeliveryCarrierView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DeliveryCarrierView.vue?vue&type=style&index=0&id=405d8148&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-405d8148\"]])\n\nexport default __exports__"],"names":["getCarrierTableHeaders","tCap","title","key","align","toTableData","carrier","phones","filter","p","type","ContactType","Phone","sort","a","b","Number","isPrimary","slice","id","name","city","primaryLocation","address","value","useDeliveryCarrierTable","carriersRef","useLocalizationHelpers","data","computed","carriers","map","headers","_hoisted_1","class","_hoisted_2","_defineComponent","__name","props","setup","__props","deleteDeliveryCarrierCommandHandler","useDeliveryCarriers","toRef","_ctx","_cache","_component_v_btn","_resolveComponent","_component_v_data_table","_openBlock","_createBlock","_unref","items","density","hover","_withCtx","item","_createElementVNode","_createElementBlock","_Fragment","_renderList","phone","i","PhoneLink","_createVNode","AddressLink","format","color","variant","icon","to","CarrierModal","mini","ConfirmDeleteModal","action-fn","handle","_","__exports__","_component_v_card","_component_v_container","default","_toDisplayString","CarrierList"],"sourceRoot":""}