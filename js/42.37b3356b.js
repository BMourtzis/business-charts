"use strict";(self["webpackChunkbusiness_charts"]=self["webpackChunkbusiness_charts"]||[]).push([[42],{42:function(e,a,n){n.r(a),n.d(a,{default:function(){return P}});var l=n(6768),t=n(144),r=n(4232),u=n(8512),i=n(9149),d=n(7336),o=n(6022),m=n(9605),c=n(8269),s=(0,l.pM)({__name:"AddContactModal",props:{partnerId:{},contactType:{},mini:{type:Boolean}},setup(e){const{addAddressCommand:a,addEmailCommand:n,addPhoneCommand:u}=(0,d.X)(),{tCap:i}=(0,m.S)(),s=e,p=(0,l.EW)(()=>{switch(s.contactType){case"email":return i("partner.email");case"phone":return i("partner.phone");case"address":return i("partner.address");default:return""}}),v=(0,l.EW)(()=>{switch(s.contactType){case"email":return c.iK;case"phone":return c.gB;case"address":return(0,c.oE)(3,50);default:return c.mw}}),b=(0,l.EW)(()=>{switch(s.contactType){case"email":return i("partner.addEmail");case"phone":return i("partner.addPhone");case"address":return i("partner.addAddress");default:return""}}),k=(0,l.EW)(()=>"address"===s.contactType?i("common.primary_gen"):i("common.primary")),y=(0,t.Kh)({name:"",value:"",isPrimary:!1}),{dialog:f,formRef:_,validForm:R,loading:g,errorMessage:F,close:h,submit:C}=(0,o.q)(y);async function w(){await C(async e=>{switch(s.contactType){case"email":await n(s.partnerId,e.value,e.name,e.isPrimary);break;case"phone":await u(s.partnerId,e.value,e.name,e.isPrimary);break;case"address":await a(s.partnerId,e.value,e.name,e.isPrimary);break;default:return}})}return(a,n)=>{const u=(0,l.g2)("v-btn"),d=(0,l.g2)("v-text-field"),o=(0,l.g2)("v-row"),m=(0,l.g2)("v-switch"),s=(0,l.g2)("v-alert"),C=(0,l.g2)("v-container"),E=(0,l.g2)("v-form"),V=(0,l.g2)("v-card-text"),X=(0,l.g2)("v-spacer"),P=(0,l.g2)("v-card-actions"),W=(0,l.g2)("v-card"),x=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.Wv)(x,{modelValue:(0,t.R1)(f),"onUpdate:modelValue":n[4]||(n[4]=e=>(0,t.i9)(f)?f.value=e:null),"max-width":"500"},{activator:(0,l.k6)(({props:a})=>[e.mini?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,(0,l.v6)({key:0},a,{color:"surface-variant",text:`${(0,t.R1)(i)("common.add")} ${p.value}`,"prepend-icon":"mdi-plus",variant:"flat"}),null,16,["text"])),e.mini?((0,l.uX)(),(0,l.Wv)(u,(0,l.v6)({key:1},a,{color:"indigo",icon:"mdi-plus",variant:"text",density:"compact"}),null,16)):(0,l.Q3)("",!0)]),default:(0,l.k6)(()=>[(0,l.bF)(W,{title:b.value},{default:(0,l.k6)(()=>[(0,l.bF)(V,null,{default:(0,l.k6)(()=>[(0,l.bF)(E,{ref_key:"formRef",ref:_,modelValue:(0,t.R1)(R),"onUpdate:modelValue":n[3]||(n[3]=e=>(0,t.i9)(R)?R.value=e:null)},{default:(0,l.k6)(()=>[(0,l.bF)(C,null,{default:(0,l.k6)(()=>[(0,l.bF)(o,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=e=>y.value=e),label:p.value,type:"email",rules:[v.value]},null,8,["modelValue","label","rules"])]),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:y.name,"onUpdate:modelValue":n[1]||(n[1]=e=>y.name=e),label:(0,t.R1)(i)("common.name"),rules:[(0,t.R1)(c.Ru)(50)]},null,8,["modelValue","label","rules"])]),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)(()=>[(0,l.bF)(m,{modelValue:y.isPrimary,"onUpdate:modelValue":n[2]||(n[2]=e=>y.isPrimary=e),label:k.value},null,8,["modelValue","label"])]),_:1}),(0,t.R1)(F)?((0,l.uX)(),(0,l.Wv)(s,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)((0,t.R1)(F)),1)]),_:1})):(0,l.Q3)("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(P,null,{default:(0,l.k6)(()=>[(0,l.bF)(X),(0,l.bF)(u,{variant:"tonal",color:"indigo",text:(0,t.R1)(i)("common.save"),loading:(0,t.R1)(g),disabled:!(0,t.R1)(R)||(0,t.R1)(g),onClick:w},null,8,["text","loading","disabled"]),(0,l.bF)(u,{text:(0,t.R1)(i)("common.cancel"),color:"red",disabled:(0,t.R1)(g),onClick:(0,t.R1)(h)},null,8,["text","disabled","onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}});const p=s;var v=p,b=(0,l.pM)({__name:"EditContactModal",props:{partnerId:{},contact:{},contactType:{},mini:{type:Boolean}},setup(e){const{editEmailCommand:a,editPhoneCommand:n,editAddressCommand:u}=(0,d.X)(),{tCap:i}=(0,m.S)(),s=e,p=(0,l.EW)(()=>{switch(s.contactType){case"email":return i("partner.email");case"phone":return i("partner.phone");case"address":return i("partner.address");default:return""}}),v=(0,l.EW)(()=>{switch(s.contactType){case"email":return c.iK;case"phone":return c.gB;case"address":return(0,c.oE)(3,50);default:return c.mw}}),b=(0,l.EW)(()=>{switch(s.contactType){case"email":return i("partner.editEmail");case"phone":return i("partner.editPhone");case"address":return i("partner.editAddress");default:return""}}),k=(0,l.EW)(()=>"address"===s.contactType?i("common.primary_gen"):i("common.primary")),y=(0,t.Kh)({name:"",value:"",isPrimary:!1}),{dialog:f,formRef:_,validForm:R,loading:g,errorMessage:F,close:h,submit:C}=(0,o.q)(y);async function w(){await C(async e=>{const l=s.contact;if(l)switch(s.contactType){case"email":await a(s.partnerId,l.id,e.value,e.isPrimary,e.name);break;case"phone":await n(s.partnerId,l.id,e.value,e.isPrimary,e.name);break;case"address":await u(s.partnerId,l.id,e.value,e.isPrimary,e.name);break;default:return}})}return(0,l.wB)(f,e=>{e&&s.contact&&(y.value=s.contact.value,y.name=s.contact.name??"",y.isPrimary=s.contact.isPrimary)}),(a,n)=>{const u=(0,l.g2)("v-btn"),d=(0,l.g2)("v-text-field"),o=(0,l.g2)("v-row"),m=(0,l.g2)("v-switch"),s=(0,l.g2)("v-alert"),C=(0,l.g2)("v-container"),E=(0,l.g2)("v-form"),V=(0,l.g2)("v-card-text"),X=(0,l.g2)("v-spacer"),P=(0,l.g2)("v-card-actions"),W=(0,l.g2)("v-card"),x=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.Wv)(x,{modelValue:(0,t.R1)(f),"onUpdate:modelValue":n[4]||(n[4]=e=>(0,t.i9)(f)?f.value=e:null),"max-width":"500"},{activator:(0,l.k6)(({props:a})=>[e.mini?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(u,(0,l.v6)({key:0},a,{color:"surface-variant",text:`${(0,t.R1)(i)("common.edit")} ${p.value}`,"prepend-icon":"mdi-pencil",variant:"flat"}),null,16,["text"])),e.mini?((0,l.uX)(),(0,l.Wv)(u,(0,l.v6)({key:1},a,{color:"green",icon:"mdi-pencil",variant:"text",density:"compact"}),null,16)):(0,l.Q3)("",!0)]),default:(0,l.k6)(()=>[(0,l.bF)(W,{title:b.value},{default:(0,l.k6)(()=>[(0,l.bF)(V,null,{default:(0,l.k6)(()=>[(0,l.bF)(E,{ref_key:"formRef",ref:_,modelValue:(0,t.R1)(R),"onUpdate:modelValue":n[3]||(n[3]=e=>(0,t.i9)(R)?R.value=e:null)},{default:(0,l.k6)(()=>[(0,l.bF)(C,null,{default:(0,l.k6)(()=>[(0,l.bF)(o,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=e=>y.value=e),label:p.value,type:"email",rules:[v.value]},null,8,["modelValue","label","rules"])]),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)(()=>[(0,l.bF)(d,{modelValue:y.name,"onUpdate:modelValue":n[1]||(n[1]=e=>y.name=e),label:(0,t.R1)(i)("common.name"),rules:[(0,t.R1)(c.Ru)(50)]},null,8,["modelValue","label","rules"])]),_:1}),(0,l.bF)(o,null,{default:(0,l.k6)(()=>[(0,l.bF)(m,{modelValue:y.isPrimary,"onUpdate:modelValue":n[2]||(n[2]=e=>y.isPrimary=e),label:k.value},null,8,["modelValue","label"])]),_:1}),(0,t.R1)(F)?((0,l.uX)(),(0,l.Wv)(s,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:(0,l.k6)(()=>[(0,l.eW)((0,r.v_)((0,t.R1)(F)),1)]),_:1})):(0,l.Q3)("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(P,null,{default:(0,l.k6)(()=>[(0,l.bF)(X),(0,l.bF)(u,{variant:"tonal",color:"indigo",text:(0,t.R1)(i)("common.save"),loading:(0,t.R1)(g),disabled:!(0,t.R1)(R)||(0,t.R1)(g),onClick:w},null,8,["text","loading","disabled"]),(0,l.bF)(u,{text:(0,t.R1)(i)("common.cancel"),color:"red",disabled:(0,t.R1)(g),onClick:(0,t.R1)(h)},null,8,["text","disabled","onClick"])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}});const k=b;var y=k,f=n(8447);const _={key:0,style:{"font-weight":"100"}},R={key:1,style:{"font-weight":"100"}},g={key:0},F={key:1},h={key:0},C={key:1},w={key:0},E={key:1};var V=(0,l.pM)({__name:"PartnerDetails",props:{id:{}},setup(e){const a=e,{tCap:n,t:o}=(0,m.S)(),{getPartnerById:c,removeEmailCommand:s,removePhoneCommand:p,removeAddressCommand:b,deletePartnerCommand:k}=(0,d.X)(),V=(0,u.rd)(),X=c(a.id);function P(){V.back(),k(a.id)}return(e,u)=>{const d=(0,l.g2)("v-row"),m=(0,l.g2)("v-container");return(0,t.R1)(X)?((0,l.uX)(),(0,l.Wv)(m,{key:0},{default:(0,l.k6)(()=>[(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("h1",null,[(0,l.eW)((0,r.v_)((0,t.R1)(X).businessName)+" ",1),"supplier"===(0,t.R1)(X).type?((0,l.uX)(),(0,l.CE)("span",_," ("+(0,r.v_)((0,t.R1)(o)("partner.supplier"))+") ",1)):(0,l.Q3)("",!0),"customer"===(0,t.R1)(X).type?((0,l.uX)(),(0,l.CE)("span",R," ("+(0,r.v_)((0,t.R1)(o)("partner.customer",2))+") ",1)):(0,l.Q3)("",!0)]),(0,l.bF)(i.A,{partner:(0,t.R1)(X),mini:!0},null,8,["partner"]),(0,l.bF)(f.A,{name:(0,t.R1)(X).businessName,"action-fn":()=>P(),mini:!0},null,8,["name","action-fn"])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("p",null,(0,r.v_)((0,t.R1)(X).contactName),1)]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("p",null,[(0,l.eW)((0,r.v_)((0,t.R1)(n)("partner.vatNumber"))+": ",1),(0,l.Lk)("strong",null,(0,r.v_)((0,t.R1)(X).vatNumber),1)])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("h3",null,(0,r.v_)((0,t.R1)(n)("partner.email",2)),1),(0,l.bF)(v,{"contact-type":"email","partner-id":(0,t.R1)(X).id,mini:!0},null,8,["partner-id"])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(X).emails,e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[e.name?((0,l.uX)(),(0,l.CE)("span",g,(0,r.v_)(e.name)+":",1)):(0,l.Q3)("",!0),(0,l.Lk)("strong",null,(0,r.v_)(e.value),1),e.isPrimary?((0,l.uX)(),(0,l.CE)("span",F," - "+(0,r.v_)((0,t.R1)(n)("common.primary")),1)):(0,l.Q3)("",!0),(0,l.bF)(y,{"partner-id":a.id,contact:e,"contact-type":"email",mini:!0},null,8,["partner-id","contact"]),(0,l.bF)(f.A,{name:e.value,"action-fn":()=>(0,t.R1)(s)(a.id,e.id),mini:!0},null,8,["name","action-fn"])]))),128))])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("h3",null,(0,r.v_)((0,t.R1)(n)("partner.phone",2)),1),(0,l.bF)(v,{"contact-type":"phone","partner-id":(0,t.R1)(X).id,mini:!0},null,8,["partner-id"])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(X).phones,e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[e.name?((0,l.uX)(),(0,l.CE)("span",h,(0,r.v_)(e.name)+":",1)):(0,l.Q3)("",!0),(0,l.Lk)("strong",null,(0,r.v_)(e.value),1),e.isPrimary?((0,l.uX)(),(0,l.CE)("span",C," - "+(0,r.v_)((0,t.R1)(n)("common.primary")),1)):(0,l.Q3)("",!0),(0,l.bF)(y,{"partner-id":a.id,contact:e,"contact-type":"phone",mini:!0},null,8,["partner-id","contact"]),(0,l.bF)(f.A,{name:e.value,"action-fn":()=>(0,t.R1)(p)(a.id,e.id),mini:!0},null,8,["name","action-fn"])]))),128))])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("h3",null,(0,r.v_)((0,t.R1)(n)("partner.address",2)),1),(0,l.bF)(v,{"contact-type":"address","partner-id":(0,t.R1)(X).id,mini:!0},null,8,["partner-id"])]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,t.R1)(X).addresses,e=>((0,l.uX)(),(0,l.CE)("li",{key:e.id},[e.name?((0,l.uX)(),(0,l.CE)("span",w,(0,r.v_)(e.name)+":",1)):(0,l.Q3)("",!0),(0,l.Lk)("strong",null,(0,r.v_)(e.value),1),e.isPrimary?((0,l.uX)(),(0,l.CE)("span",E," - "+(0,r.v_)((0,t.R1)(n)("common.primary_gen")),1)):(0,l.Q3)("",!0),(0,l.bF)(y,{"partner-id":a.id,contact:e,"contact-type":"address",mini:!0},null,8,["partner-id","contact"]),(0,l.bF)(f.A,{name:e.value,"action-fn":()=>(0,t.R1)(b)(a.id,e.id),mini:!0},null,8,["name","action-fn"])]))),128))])]),_:1})]),_:1})):(0,l.Q3)("",!0)}}});const X=V;var P=X}}]);
//# sourceMappingURL=42.37b3356b.js.map