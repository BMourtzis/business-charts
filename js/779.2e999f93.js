"use strict";(self["webpackChunkbusiness_charts"]=self["webpackChunkbusiness_charts"]||[]).push([[779],{2779:function(t,a,e){e.r(a),e.d(a,{default:function(){return S}});var n=e(6768),r=e(144),s=(e(4603),e(7566),e(8721),e(7017));e(4114),e(8111),e(2489);const o="orders";async function l(){const t=localStorage.getItem(o);return t?JSON.parse(t):[]}async function c(t){localStorage.setItem(o,JSON.stringify(t))}const i={async getAll(){return l()},async saveAll(t){c(t)},async load(){const t=localStorage.getItem(o);if(!t)return[];const a=JSON.parse(t);return a},async add(t){const a=await this.load();a.push(t),localStorage.setItem(o,JSON.stringify(a))},async update(t){const a=await this.load(),e=a.findIndex(a=>a.id===t.id);-1!==e&&(a[e]=t),localStorage.setItem(o,JSON.stringify(a))},async remove(t){const a=await this.load(),e=a.filter(a=>a.id!==t);localStorage.setItem(o,JSON.stringify(e))}};class u{async exportAll(){const t={partners:await s.V.getAll(),orders:await i.getAll()},a=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),e=URL.createObjectURL(a),n=document.createElement("a");n.href=e,n.download=`export-${(new Date).toISOString().slice(0,10)}.json`,n.click(),URL.revokeObjectURL(e)}async importAll(t){const a=await t.text(),e=JSON.parse(a);e.partners&&await s.V.saveAll(e.partners),e.orders&&await i.saveAll(e.orders)}}async function p(){const t=new u;await t.exportAll()}var f=e(331);async function d(t){const a=new u;await a.importAll(t),(0,f.Y)()}function g(){return{exportData:p,importData:t=>d(t)}}var y=(0,n.pM)({__name:"DataTransfer",setup(t){const{exportData:a,importData:e}=g();function s(t){const a=t.target.files?.[0];a&&e(a)}return(t,e)=>{const o=(0,n.g2)("v-btn"),l=(0,n.g2)("v-file-input");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e[1]||(e[1]=(0,n.Lk)("h1",null,"Data Transfer",-1)),e[2]||(e[2]=(0,n.Lk)("h2",null,"Export",-1)),(0,n.bF)(o,{color:"warning",onClick:(0,r.R1)(a)},{default:(0,n.k6)(()=>[...e[0]||(e[0]=[(0,n.eW)(" Export JSON ",-1)])]),_:1},8,["onClick"]),e[3]||(e[3]=(0,n.Lk)("h2",null,"Import",-1)),(0,n.bF)(l,{label:"JSON file",type:"file",accept:"application/json",onChange:s})],64)}}});const w=y;var S=w}}]);
//# sourceMappingURL=779.2e999f93.js.map