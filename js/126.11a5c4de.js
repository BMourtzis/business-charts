"use strict";(self["webpackChunkbusiness_charts"]=self["webpackChunkbusiness_charts"]||[]).push([[126],{9126:function(e,a,l){l.r(a),l.d(a,{default:function(){return i}});l(4979);var s=l(6768),u=l(4232),d=l(144),t=l(6022),o=l(9605),r=l(7160),n=l(1735),v=l(3865),c=(0,s.pM)({__name:"ChangePassword",setup(e){const{required:a,sameAs:l}=(0,r.A)(),{changePassword:c}=(0,n.G)(),{tCap:w}=(0,o.S)(),i=(0,d.KR)(""),f=(0,d.KR)(""),b=(0,d.KR)({oldPassword:"",newPassword:"",confirmNewPassword:""}),{formRef:m,validForm:p,loading:_,submit:k,reset:g}=(0,t.q)(b);async function F(){await k(async e=>{i.value="";try{await c(e.value.oldPassword,e.value.newPassword),f.value=w("vault.passwordChangedSuccess"),g()}catch(a){a instanceof DOMException?i.value=w("vault.decryptionError"):i.value=w("vault.wrongPassowrd")}})}return(e,t)=>{const o=(0,s.g2)("v-alert"),r=(0,s.g2)("v-card-title"),n=(0,s.g2)("v-divider"),c=(0,s.g2)("v-text-field"),k=(0,s.g2)("v-col"),g=(0,s.g2)("v-row"),P=(0,s.g2)("v-container"),R=(0,s.g2)("v-form"),y=(0,s.g2)("v-card-text"),h=(0,s.g2)("v-spacer"),V=(0,s.g2)("v-btn"),C=(0,s.g2)("v-card-actions"),W=(0,s.g2)("v-card");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(o,{type:"warning",variant:"tonal",density:"compact",class:"mt-2 mb-3"},{default:(0,s.k6)(()=>[(0,s.eW)((0,u.v_)((0,d.R1)(w)("vault.saveBeforeChangePw")),1)]),_:1}),(0,s.bF)(W,null,{default:(0,s.k6)(()=>[(0,s.bF)(r,null,{default:(0,s.k6)(()=>[(0,s.eW)((0,u.v_)((0,d.R1)(w)("vault.changePassword")),1)]),_:1}),(0,s.bF)(n),(0,s.bF)(y,null,{default:(0,s.k6)(()=>[(0,s.bF)(R,{ref_key:"formRef",ref:m,modelValue:(0,d.R1)(p),"onUpdate:modelValue":t[3]||(t[3]=e=>(0,d.i9)(p)?p.value=e:null)},{default:(0,s.k6)(()=>[(0,s.bF)(P,{class:"pa-0",fluid:""},{default:(0,s.k6)(()=>[(0,s.bF)(g,{dense:""},{default:(0,s.k6)(()=>[(0,s.bF)(k,{cols:"12"},{default:(0,s.k6)(()=>[(0,s.bF)(c,{modelValue:b.value.oldPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value.oldPassword=e),label:(0,d.R1)(w)("vault.oldPassword"),rules:[(0,d.R1)(a)],type:"password"},null,8,["modelValue","label","rules"])]),_:1})]),_:1}),(0,s.bF)(g,{dense:""},{default:(0,s.k6)(()=>[(0,s.bF)(k,{cols:"12"},{default:(0,s.k6)(()=>[(0,s.bF)(c,{modelValue:b.value.newPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>b.value.newPassword=e),label:(0,d.R1)(w)("vault.newPassword"),rules:[(0,d.R1)(a)],type:"password"},null,8,["modelValue","label","rules"])]),_:1})]),_:1}),(0,s.bF)(g,{dense:""},{default:(0,s.k6)(()=>[(0,s.bF)(k,{cols:"12"},{default:(0,s.k6)(()=>[(0,s.bF)(v.A,{password:b.value.newPassword},null,8,["password"])]),_:1})]),_:1}),(0,s.bF)(g,{dense:""},{default:(0,s.k6)(()=>[(0,s.bF)(k,{cols:"12"},{default:(0,s.k6)(()=>[(0,s.bF)(c,{modelValue:b.value.confirmNewPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value.confirmNewPassword=e),label:(0,d.R1)(w)("vault.confirmNewPassword"),rules:[(0,d.R1)(a),(0,d.R1)(l)(()=>b.value.newPassword,"validation.passwordsDoNotMatch")],type:"password"},null,8,["modelValue","label","rules"])]),_:1})]),_:1}),i.value?((0,s.uX)(),(0,s.Wv)(o,{key:0,type:"error",variant:"tonal",density:"compact",class:"mt-2"},{default:(0,s.k6)(()=>[(0,s.eW)((0,u.v_)(i.value),1)]),_:1})):(0,s.Q3)("",!0),f.value?((0,s.uX)(),(0,s.Wv)(o,{key:1,type:"success",variant:"tonal",density:"compact",class:"mt-2"},{default:(0,s.k6)(()=>[(0,s.eW)((0,u.v_)(f.value),1)]),_:1})):(0,s.Q3)("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,s.bF)(C,null,{default:(0,s.k6)(()=>[(0,s.bF)(h),(0,s.bF)(V,{variant:"tonal",color:"primary",text:(0,d.R1)(w)("vault.changePassword"),loading:(0,d.R1)(_),disabled:(0,d.R1)(_),onClick:F},null,8,["text","loading","disabled"])]),_:1})]),_:1})],64)}}});const w=c;var i=w}}]);
//# sourceMappingURL=126.11a5c4de.js.map